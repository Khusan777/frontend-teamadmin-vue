{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/router/index.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/router/index.js","mtime":1647231276045},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL015UHJvamVjdHMvZnJvbnRlbmQtdGVhbWFkbWluLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBwdWJsaWNSb3V0ZXMgfSBmcm9tICd+L3JvdXRlci9wdWJsaWMnOwppbXBvcnQgeyBwcml2YXRlUm91dGVzIH0gZnJvbSAnfi9yb3V0ZXIvcHJpdmF0ZSc7CmltcG9ydCBWdWVDb29raWUgZnJvbSAndnVlLWNvb2tpZSc7CmltcG9ydCBzdG9yZSBmcm9tICd+L3N0b3JlJzsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlczogcHJpdmF0ZVJvdXRlcy5jb25jYXQocHVibGljUm91dGVzKQp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBfdG8kbWV0YTsKCiAgICB2YXIgbG9nZ2VkSW4sIF9zdG9yZSRzdGF0ZSwgX3N0b3JlJHN0YXRlJGF1dGgsIF9zdG9yZSRzdGF0ZTIsIF9zdG9yZSRzdGF0ZTIkY29yZTsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gJ1RlYW0nICsgKHRvICE9PSBudWxsICYmIHRvICE9PSB2b2lkIDAgJiYgKF90byRtZXRhID0gdG8ubWV0YSkgIT09IG51bGwgJiYgX3RvJG1ldGEgIT09IHZvaWQgMCAmJiBfdG8kbWV0YS50aXRsZSA/ICcgLSAnICsgdG8ubWV0YS50aXRsZSA6ICcnKTsKICAgICAgICAgICAgbG9nZ2VkSW4gPSBWdWVDb29raWUuZ2V0KCdhdXRoJyk7CgogICAgICAgICAgICBpZiAoISghbG9nZ2VkSW4gJiYgdG8ubmFtZSAhPT0gJ2F1dGgubG9naW4nKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAnYXV0aC5sb2dpbicKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAoISh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgICAgIHJldHVybiByZWNvcmQubWV0YS5wdWJsaWM7CiAgICAgICAgICAgIH0pICYmIGxvZ2dlZEluKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgbmFtZTogJ3Byb2ZpbGUnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGlmICghKCEoKF9zdG9yZSRzdGF0ZSA9IHN0b3JlLnN0YXRlKSAhPT0gbnVsbCAmJiBfc3RvcmUkc3RhdGUgIT09IHZvaWQgMCAmJiAoX3N0b3JlJHN0YXRlJGF1dGggPSBfc3RvcmUkc3RhdGUuYXV0aCkgIT09IG51bGwgJiYgX3N0b3JlJHN0YXRlJGF1dGggIT09IHZvaWQgMCAmJiBfc3RvcmUkc3RhdGUkYXV0aC51c2VyKSAmJiBsb2dnZWRJbikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdhdXRoL2dldFVzZXInKTsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBpZiAoKF9zdG9yZSRzdGF0ZTIgPSBzdG9yZS5zdGF0ZSkgIT09IG51bGwgJiYgX3N0b3JlJHN0YXRlMiAhPT0gdm9pZCAwICYmIChfc3RvcmUkc3RhdGUyJGNvcmUgPSBfc3RvcmUkc3RhdGUyLmNvcmUpICE9PSBudWxsICYmIF9zdG9yZSRzdGF0ZTIkY29yZSAhPT0gdm9pZCAwICYmIF9zdG9yZSRzdGF0ZTIkY29yZS5nbG9iYWxzKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnY29yZS9nZXRBcHAnKTsKCiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICBuZXh0KCk7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/router/index.js"],"names":["createRouter","createWebHistory","publicRoutes","privateRoutes","VueCookie","store","router","history","routes","concat","beforeEach","to","from","next","document","title","meta","loggedIn","get","name","matched","some","record","public","state","auth","user","dispatch","core","globals"],"mappings":";;;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,IAAMC,MAAM,GAAGN,YAAY,CAAC;AAC1BO,EAAAA,OAAO,EAAEN,gBAAgB,EADC;AAE1BO,EAAAA,MAAM,EAAEL,aAAa,CAACM,MAAd,CAAqBP,YAArB;AAFkB,CAAD,CAA3B;AAKAI,MAAM,CAACI,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAChBC,YAAAA,QAAQ,CAACC,KAAT,GAAiB,UAAUJ,EAAE,SAAF,IAAAA,EAAE,WAAF,gBAAAA,EAAE,CAAEK,IAAJ,8CAAUD,KAAV,GAAkB,QAAQJ,EAAE,CAACK,IAAH,CAAQD,KAAlC,GAA0C,EAApD,CAAjB;AACME,YAAAA,QAFU,GAECb,SAAS,CAACc,GAAV,CAAc,MAAd,CAFD;;AAAA,kBAGZ,CAACD,QAAD,IAAaN,EAAE,CAACQ,IAAH,KAAY,YAHb;AAAA;AAAA;AAAA;;AAG2BN,YAAAA,IAAI,CAAC;AAAEM,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AAH3B;AAAA;;AAAA;AAAA,kBAIPR,EAAE,CAACS,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACN,IAAP,CAAYO,MAAhB;AAAA,aAAtB,KAAiDN,QAJ1C;AAAA;AAAA;AAAA;;AAKdJ,YAAAA,IAAI,CAAC;AAAEM,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AALc;AAAA;;AAAA;AAAA,kBAOV,kBAACd,KAAK,CAACmB,KAAP,8DAAC,aAAaC,IAAd,8CAAC,kBAAmBC,IAApB,KAA4BT,QAPlB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQNZ,KAAK,CAACsB,QAAN,CAAe,cAAf,CARM;;AAAA;AAAA,iCASPtB,KAAK,CAACmB,KATC,gEASP,cAAaI,IATN,+CASP,mBAAmBC,OATZ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAUJxB,KAAK,CAACsB,QAAN,CAAe,aAAf,CAVI;;AAAA;AAadd,YAAAA,IAAI;;AAbU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAiBA,eAAeP,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport { publicRoutes } from '~/router/public';\r\nimport { privateRoutes } from '~/router/private';\r\nimport VueCookie from 'vue-cookie';\r\nimport store from '~/store';\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes: privateRoutes.concat(publicRoutes),\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  document.title = 'Team' + (to?.meta?.title ? ' - ' + to.meta.title : '');\r\n  const loggedIn = VueCookie.get('auth');\r\n  if (!loggedIn && to.name !== 'auth.login') next({ name: 'auth.login' });\r\n  else if (to.matched.some(record => record.meta.public) && loggedIn) {\r\n    next({ name: 'profile' });\r\n  } else {\r\n    if (!store.state?.auth?.user && loggedIn) {\r\n      await store.dispatch('auth/getUser');\r\n      if (!store.state?.core?.globals) {\r\n        await store.dispatch('core/getApp');\r\n      }\r\n    }\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"]}]}