{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtInput/components/InputMask.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtInput/components/InputMask.js","mtime":1647231276029},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICogYXMgTWFzayBmcm9tICcuLi8uLi8uLi9taXhpbnMvZGlyZWN0aXZlcy9NYXNrJzsKaW1wb3J0IHsgY29tcHV0ZWQsIGgsIHJlZiwgdG9SZWZzLCB3YXRjaCwgd2l0aERpcmVjdGl2ZXMgfSBmcm9tICd2dWUnOwp2YXIgbWFzayA9IE1hc2suZGlyZWN0aXZlLAogICAgbWFza2VyID0gTWFzay5tYXNrZXIsCiAgICB0b2tlbnMgPSBNYXNrLnRva2VuczsKaW1wb3J0IHsgSW5wdXRFdmVudHNUeXBlcyB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9JbnB1dEV2ZW50cyc7CmltcG9ydCB7IHNldElucHV0RXZlbnRzIH0gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2V2ZW50cy9JbnB1dEV2ZW50cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW5wdXRNYXNrJywKICBpbmhlcml0QXR0cnM6IGZhbHNlLAogIGVtaXRzOiBbJ3VwZGF0ZTptb2RlbFZhbHVlJywgJ2NoYW5nZSddLmNvbmNhdChJbnB1dEV2ZW50c1R5cGVzKSwKICBwcm9wczogewogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd0ZXh0JwogICAgfSwKICAgIG1vZGVsVmFsdWU6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBtYXNrOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5XSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBtYXNrZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0b2tlbnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gdG9rZW5zOwogICAgICB9CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwoKICAgIHZhciBfdG9SZWZzID0gdG9SZWZzKHByb3BzKSwKICAgICAgICBtb2RlbFZhbHVlID0gX3RvUmVmcy5tb2RlbFZhbHVlLAogICAgICAgIG1hc2sgPSBfdG9SZWZzLm1hc2ssCiAgICAgICAgbWFza2VkID0gX3RvUmVmcy5tYXNrZWQsCiAgICAgICAgdG9rZW5zID0gX3RvUmVmcy50b2tlbnM7CgogICAgdmFyIGxhc3RWYWx1ZSA9IHJlZihudWxsKTsKICAgIHZhciBkaXNwbGF5ID0gcmVmKG1vZGVsVmFsdWUudmFsdWUpOwogICAgdmFyIGNvbmZpZyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBtYXNrOiBtYXNrLnZhbHVlLAogICAgICAgIHRva2VuczogdG9rZW5zLnZhbHVlLAogICAgICAgIG1hc2tlZDogbWFza2VkLnZhbHVlCiAgICAgIH07CiAgICB9KTsKICAgIHdhdGNoKG1vZGVsVmFsdWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgIT09IGxhc3RWYWx1ZS52YWx1ZSkgewogICAgICAgIGRpc3BsYXkudmFsdWUgPSBtYXNrZXIodmFsdWUsIG1hc2sudmFsdWUsIHRydWUsIHRva2Vucy52YWx1ZSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciByZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCh2YWwpIHsKICAgICAgZGlzcGxheS52YWx1ZSA9IHZhbDsKICAgICAgdmFyIHZhbHVlID0gbWFza2VyKHZhbCwgbWFzay52YWx1ZSwgbWFza2VkLnZhbHVlLCB0b2tlbnMudmFsdWUpOwoKICAgICAgaWYgKHZhbHVlICE9PSBsYXN0VmFsdWUudmFsdWUpIHsKICAgICAgICBsYXN0VmFsdWUudmFsdWUgPSB2YWx1ZTsKICAgICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIHZhbHVlKTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9OwoKICAgIHdhdGNoKG1hc2tlZCwgZnVuY3Rpb24gKCkgewogICAgICByZWZyZXNoKGRpc3BsYXkudmFsdWUpOwogICAgfSk7CgogICAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiBvbklucHV0KGUpIHsKICAgICAgaWYgKGUuaXNUcnVzdGVkKSByZXR1cm47CiAgICAgIGlmIChlIGluc3RhbmNlb2YgRXZlbnQpIHJldHVybiByZWZyZXNoKGUudGFyZ2V0LnZhbHVlKTtlbHNlIHJldHVybiByZWZyZXNoKGUpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICByZWZyZXNoOiByZWZyZXNoLAogICAgICBkaXNwbGF5OiBkaXNwbGF5LAogICAgICBjb25maWc6IGNvbmZpZywKICAgICAgb25JbnB1dDogb25JbnB1dAogICAgfTsKICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gd2l0aERpcmVjdGl2ZXMoaCgnaW5wdXQnLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRhdHRycywgc2V0SW5wdXRFdmVudHModGhpcy4kZW1pdCksIHsKICAgICAgdmFsdWU6IHRoaXMuZGlzcGxheSwKICAgICAgdHlwZTogdGhpcy50eXBlLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0sCiAgICAgIG9uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoZSkgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5vbklucHV0KGUpOwoKICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy4kZW1pdCgnY2hhbmdlJywgcmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pKSwgW1ttYXNrLCB0aGlzLmNvbmZpZ11dKTsKICB9Cn07"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtInput/components/InputMask.js"],"names":["Mask","computed","h","ref","toRefs","watch","withDirectives","mask","directive","masker","tokens","InputEventsTypes","setInputEvents","name","inheritAttrs","emits","concat","props","type","String","default","modelValue","Number","required","Array","masked","Boolean","Object","setup","emit","lastValue","display","value","config","refresh","val","undefined","onInput","e","isTrusted","Event","target","render","assign","$attrs","$emit","onChange","stopPropagation","result"],"mappings":"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","sourcesContent":["import * as Mask from '../../../mixins/directives/Mask';\nimport { computed, h, ref, toRefs, watch, withDirectives } from 'vue';\nconst { directive: mask, masker, tokens } = Mask;\nimport { InputEventsTypes } from '../../../constants/InputEvents';\nimport { setInputEvents } from '../../../mixins/events/InputEvents';\n\nexport default {\n  name: 'InputMask',\n  inheritAttrs: false,\n  emits: ['update:modelValue', 'change'].concat(InputEventsTypes),\n  props: {\n    type: { type: String, default: 'text' },\n    modelValue: { type: [String, Number], required: true },\n    mask: { type: [String, Array], required: true },\n    masked: { type: Boolean, default: false },\n    tokens: { type: Object, default: () => tokens },\n  },\n  setup(props, { emit }) {\n    const { modelValue, mask, masked, tokens } = toRefs(props);\n    const lastValue = ref(null);\n    const display = ref(modelValue.value);\n\n    const config = computed(() => ({\n      mask: mask.value,\n      tokens: tokens.value,\n      masked: masked.value,\n    }));\n\n    watch(modelValue, value => {\n      if (value !== lastValue.value) {\n        display.value = masker(value, mask.value, true, tokens.value);\n      }\n    });\n\n    const refresh = val => {\n      display.value = val;\n      const value = masker(val, mask.value, masked.value, tokens.value);\n      if (value !== lastValue.value) {\n        lastValue.value = value;\n        emit('update:modelValue', value);\n        return value;\n      }\n      return undefined;\n    };\n    watch(masked, () => {\n      refresh(display.value);\n    });\n\n    const onInput = e => {\n      if (e.isTrusted) return;\n      if (e instanceof Event) return refresh(e.target.value);\n      else return refresh(e);\n    };\n\n    return { refresh, display, config, onInput };\n  },\n  render() {\n    return withDirectives(\n      h(\n        'input',\n        Object.assign({}, this.$attrs, setInputEvents(this.$emit), {\n          value: this.display,\n          type: this.type,\n          onChange: () => null,\n          onInput: e => {\n            e.stopPropagation();\n            const result = this.onInput(e);\n            if (result) {\n              this.$emit('change', result);\n            }\n          },\n        })\n      ),\n      [[mask, this.config]]\n    );\n  },\n};\n"]}]}