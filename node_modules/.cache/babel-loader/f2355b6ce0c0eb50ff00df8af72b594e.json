{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/components/salaries/ScheduleSalaries.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/components/salaries/ScheduleSalaries.vue","mtime":1647454107435},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYWRtaW4vRGVza3RvcC9NeVByb2plY3RzL2Zyb250ZW5kLXRlYW1hZG1pbi12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FkbWluL0Rlc2t0b3AvTXlQcm9qZWN0cy9mcm9udGVuZC10ZWFtYWRtaW4tdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBBdFRhYmxlIGZyb20gJ34vcGx1Z2lucy9hbGlmdGVjaC11aS9jb21wb25lbnRzL0F0VGFibGUvQXRUYWJsZSc7CmltcG9ydCBBdFRhYmxlSXRlbSBmcm9tICd+L3BsdWdpbnMvYWxpZnRlY2gtdWkvY29tcG9uZW50cy9BdFRhYmxlSXRlbS9BdFRhYmxlSXRlbSc7CmltcG9ydCBBdFNrZWxldG9uIGZyb20gJ34vcGx1Z2lucy9hbGlmdGVjaC11aS9jb21wb25lbnRzL0F0U2tlbGV0b24vQXRTa2VsZXRvbic7CmltcG9ydCBBdFNlbGVjdCBmcm9tICd+L3BsdWdpbnMvYWxpZnRlY2gtdWkvY29tcG9uZW50cy9BdFNlbGVjdC9BdFNlbGVjdCc7CmltcG9ydCBBdElucHV0IGZyb20gJ34vcGx1Z2lucy9hbGlmdGVjaC11aS9jb21wb25lbnRzL0F0SW5wdXQvQXRJbnB1dCc7CmltcG9ydCBkaWZmZXJlbmNlSW5EYXlzIGZyb20gJ2RhdGUtZm5zL2RpZmZlcmVuY2VJbkRheXMnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoLmRlYm91bmNlJzsKaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnfi91dGlscy9maWx0ZXJzL2RhdGVGaWx0ZXJzJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHVzZVJvdXRlclJlcGxhY2UgZnJvbSAnfi91dGlscy9ob29rcy91c2VSb3V0ZXJSZXBsYWNlJzsKaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbGxlYWd1ZXNMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBBdFRhYmxlOiBBdFRhYmxlLAogICAgQXRUYWJsZUl0ZW06IEF0VGFibGVJdGVtLAogICAgQXRTa2VsZXRvbjogQXRTa2VsZXRvbiwKICAgIEF0U2VsZWN0OiBBdFNlbGVjdCwKICAgIEF0SW5wdXQ6IEF0SW5wdXQKICB9LAogIHByb3BzOiB7CiAgICBsb2FkaW5nOiBCb29sZWFuLAogICAgY29sbGVhZ3VlczogW0FycmF5LCBPYmplY3RdLAogICAgZGF0YUxpc3RWYWx1ZTogU3RyaW5nLAogICAgaW5kZXhQYWdpbmF0aW9uOiBbQXJyYXksIE9iamVjdF0sCiAgICBzYWxhcmllczogW0FycmF5XSwKICAgIGFycmF5RmlsbDogQXJyYXkKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgdmFyIG1lc3NhZ2VzVGFibGVIZWFkID0gW3sKICAgICAgdGl0bGU6ICfQpNCY0J4nCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn0KLQtdC60YPRidCw0Y8g0JfQnycKICAgIH0sIHsKICAgICAgdGl0bGU6ICfQl9Cw0L/Qu9Cw0L3QuNGA0L7QstCw0L3QvdCw0Y8nCiAgICB9LCB7CiAgICAgIHRpdGxlOiAnUGxhbmVkIEF0JwogICAgfV07CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciByb3V0ZXJSZXBsYWNlID0gdXNlUm91dGVyUmVwbGFjZSgpOwogICAgdmFyIGxvYWRpbmdBcnJheSA9IHJlZihBcnJheSgxNSkuZmlsbCgxKSk7CiAgICB2YXIgcXVlcnkgPSByZWYoewogICAgICBzZWFyY2g6IHJvdXRlLnF1ZXJ5LnNlYXJjaCB8fCAnJywKICAgICAgZGVwYXJ0bWVudF9pZDogcm91dGUucXVlcnkuZGVwYXJ0bWVudF9pZCB8fCAnJywKICAgICAgdGVhbV9pZDogcm91dGUucXVlcnkudGVhbV9pZCB8fCAnJywKICAgICAgcGFnZTogcm91dGUucXVlcnkucGFnZSB8fCAnJywKICAgICAgcGVyX3BhZ2U6IDE1CiAgICB9KTsKCiAgICB2YXIgZGlmZmVyZW5jZURheXNTY2hlZHVsZVNhbGFyeSA9IGZ1bmN0aW9uIGRpZmZlcmVuY2VEYXlzU2NoZWR1bGVTYWxhcnkoc2NoZWR1bGVEYXRlU2FsYXJ5KSB7CiAgICAgIHJldHVybiBkaWZmZXJlbmNlSW5EYXlzKG5ldyBEYXRlKHNjaGVkdWxlRGF0ZVNhbGFyeSksIG5ldyBEYXRlKCkpOwogICAgfTsKCiAgICB2YXIgY29sbGVhZ3Vlc0luZGV4ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Byb3BzJGNvbGxlYWd1ZXM7CgogICAgICBpZiAoKF9wcm9wcyRjb2xsZWFndWVzID0gcHJvcHMuY29sbGVhZ3VlcykgIT09IG51bGwgJiYgX3Byb3BzJGNvbGxlYWd1ZXMgIT09IHZvaWQgMCAmJiBfcHJvcHMkY29sbGVhZ3Vlcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gcHJvcHMuY29sbGVhZ3Vlcy5tYXAoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGMpLCB7fSwgewogICAgICAgICAgICBzYWxhcnk6IHByb3BzLnNhbGFyaWVzLmZpbHRlcihmdW5jdGlvbiAocykgewogICAgICAgICAgICAgIHJldHVybiBzLmVtcGxveWVlX2lkID09PSBjLmlkOwogICAgICAgICAgICB9KQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHByb3BzLmNvbGxlYWd1ZXM7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBzZWxlY3RPcHRpb25zID0gZnVuY3Rpb24gc2VsZWN0T3B0aW9ucyhkZWZhdWx0VGl0bGUsIG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdGl0bGU6IGRlZmF1bHRUaXRsZSwKICAgICAgICB2YWx1ZTogJycKICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShvcHRpb25zKSk7CiAgICB9OwoKICAgIHdhdGNoKHF1ZXJ5LnZhbHVlLCBkZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIHJvdXRlclJlcGxhY2Uuc2V0Um91dGVyKHF1ZXJ5LCB7CiAgICAgICAgcGFnZTogMQogICAgICB9KTsKICAgIH0sIDUwMCkpOwogICAgcmV0dXJuIHsKICAgICAgcm91dGU6IHJvdXRlLAogICAgICByb3V0ZXJSZXBsYWNlOiByb3V0ZXJSZXBsYWNlLAogICAgICBxdWVyeTogcXVlcnksCiAgICAgIG1lc3NhZ2VzVGFibGVIZWFkOiBtZXNzYWdlc1RhYmxlSGVhZCwKICAgICAgY29sbGVhZ3Vlc0luZGV4OiBjb2xsZWFndWVzSW5kZXgsCiAgICAgIHBhcnNlRGF0ZTogcGFyc2VEYXRlLAogICAgICBkaWZmZXJlbmNlRGF5c1NjaGVkdWxlU2FsYXJ5OiBkaWZmZXJlbmNlRGF5c1NjaGVkdWxlU2FsYXJ5LAogICAgICBsb2FkaW5nQXJyYXk6IGxvYWRpbmdBcnJheSwKICAgICAgc2VsZWN0T3B0aW9uczogc2VsZWN0T3B0aW9ucywKICAgICAgcG9zaXRpb25zOiBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnNbJ2NvcmUvcG9zaXRpb25zJ107CiAgICAgIH0pLAogICAgICBkZXBhcnRtZW50czogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydjb3JlL2RlcGFydG1lbnRzJ107CiAgICAgIH0pLAogICAgICB0ZWFtczogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydjb3JlL3RlYW1zJ107CiAgICAgIH0pCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/components/salaries/ScheduleSalaries.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"grid grid-cols-4 items-end gap-x-4 gap-y-6 mb-6\">\n    <div class=\"col-span-2\">\n      <at-input placeholder=\"Поиск по ФИО\" iconAfter=\"search\" v-model=\"query.search\" />\n    </div>\n    <div class=\"col-span-1\">\n      <at-select\n        :options=\"selectOptions('Все отделы', departments)\"\n        v-model=\"query.department_id\"\n        placeholder=\"Выберите отдел\"\n      >\n      </at-select>\n    </div>\n    <div class=\"col-span-1\">\n      <at-select :options=\"selectOptions('Все команды', teams)\" v-model=\"query.team_id\" placeholder=\"Выберите команду\">\n      </at-select>\n    </div>\n    <div class=\"col-span-4\">\n      <div v-if=\"loading\">\n        <AtTable class=\"max-h-96 overflow-y-auto\" :elements=\"loadingArray\">\n          <template #element>\n            <at-table-item>\n              <at-skeleton type=\"row\"></at-skeleton>\n            </at-table-item>\n          </template>\n        </AtTable>\n      </div>\n      <div v-else>\n        <at-table :head=\"messagesTableHead\" :elements=\"colleaguesIndex\">\n          <template #element=\"{ element }\">\n            <at-table-item :to=\"{ name: 'colleagues.detail', params: { id: element?.id } }\">\n              <p class=\"text-black whitespace-nowrap\">\n                {{ element?.name || '-' }}\n              </p>\n              <p class=\"text-gray-400 whitespace-nowrap\">\n                {{ element.current_position?.name }}\n              </p>\n            </at-table-item>\n            <at-table-item :to=\"{ name: 'colleagues.detail', params: { id: element?.id } }\">\n              <div v-if=\"element.salary?.length > 0\">\n                <div v-for=\"scheduleSalary in element?.salary\" :key=\"scheduleSalary.id\">\n                  <p class=\"whitespace-nowrap\">\n                    {{ scheduleSalary.current_salary || '-' }}\n                    <span class=\"text-green-400\">{{\n                      scheduleSalary?.previous_salary\n                        ? '+$' + (scheduleSalary?.amount - scheduleSalary?.current_salary)\n                        : '-'\n                    }}</span>\n                  </p>\n                </div>\n              </div>\n              <div v-else>-</div>\n            </at-table-item>\n            <at-table-item :to=\"{ name: 'colleagues.detail', params: { id: element?.id } }\">\n              <div v-if=\"element.salary?.length > 0\">\n                <div v-for=\"scheduleSalary in element?.salary\" :key=\"scheduleSalary.id\">\n                  <p class=\"text-blue-500 whitespace-nowrap flex\">\n                    {{ scheduleSalary.amount ? '$ ' + scheduleSalary.amount : '-' }}\n                  </p>\n                </div>\n              </div>\n              <div v-else>-</div>\n            </at-table-item>\n            <at-table-item :to=\"{ name: 'colleagues.detail', params: { id: element?.id } }\">\n              <div v-if=\"element.salary?.length > 0\">\n                <div class=\"flex\" v-for=\"scheduleSalary in element?.salary\" :key=\"scheduleSalary.id\">\n                  {{ scheduleSalary.start_date || '-' }}\n                  <p\n                    v-if=\"\n                      differenceDaysScheduleSalary(scheduleSalary.start_date) <= 0 &&\n                      differenceDaysScheduleSalary(scheduleSalary.start_date) <= 10\n                    \"\n                    class=\"text-red-700 ml-2\"\n                  >\n                    {{ differenceDaysScheduleSalary(scheduleSalary.start_date) }}\n                  </p>\n                  <p v-else class=\"text-green-400 ml-2\">\n                    {{ differenceDaysScheduleSalary(scheduleSalary.start_date) }}\n                  </p>\n                </div>\n              </div>\n              <div v-else>-</div>\n            </at-table-item>\n          </template>\n          <template #footer>\n            <div class=\"flex justify-between items-center\">\n              <p class=\"justify-start text-gray-400\">\n                Показано от <span>{{ indexPagination.meta?.from || '0' }}</span> до\n                <span> {{ indexPagination.meta?.to || '0' }}</span> из\n                <span>{{ indexPagination.meta?.total || '0' }}</span>\n              </p>\n            </div>\n            <div v-if=\"!colleaguesIndex.length\" class=\"text-center my-5\">\n              <p>Пусто</p>\n            </div>\n          </template>\n        </at-table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import AtTable from '~/plugins/aliftech-ui/components/AtTable/AtTable';\n  import AtTableItem from '~/plugins/aliftech-ui/components/AtTableItem/AtTableItem';\n  import AtSkeleton from '~/plugins/aliftech-ui/components/AtSkeleton/AtSkeleton';\n  import AtSelect from '~/plugins/aliftech-ui/components/AtSelect/AtSelect';\n  import AtInput from '~/plugins/aliftech-ui/components/AtInput/AtInput';\n  import differenceInDays from 'date-fns/differenceInDays';\n  import debounce from 'lodash.debounce';\n  import { parseDate } from '~/utils/filters/dateFilters';\n  import { useStore } from 'vuex';\n  import { useRoute } from 'vue-router';\n  import useRouterReplace from '~/utils/hooks/useRouterReplace';\n  import { computed, ref, watch } from 'vue';\n\n  export default {\n    name: 'ColleaguesList',\n    components: { AtTable, AtTableItem, AtSkeleton, AtSelect, AtInput },\n    props: {\n      loading: Boolean,\n      colleagues: [Array, Object],\n      dataListValue: String,\n      indexPagination: [Array, Object],\n      salaries: [Array],\n      arrayFill: Array,\n    },\n    setup(props) {\n      const messagesTableHead = [\n        { title: 'ФИО' },\n        { title: 'Текущая ЗП' },\n        { title: 'Запланированная' },\n        { title: 'Planed At' },\n      ];\n      const store = useStore();\n      const route = useRoute();\n      const routerReplace = useRouterReplace();\n      const loadingArray = ref(Array(15).fill(1));\n      const query = ref({\n        search: route.query.search || '',\n        department_id: route.query.department_id || '',\n        team_id: route.query.team_id || '',\n        page: route.query.page || '',\n        per_page: 15,\n      });\n\n      const differenceDaysScheduleSalary = scheduleDateSalary =>\n        differenceInDays(new Date(scheduleDateSalary), new Date());\n\n      const colleaguesIndex = computed(() => {\n        if (props.colleagues?.length) {\n          return props.colleagues.map(c => {\n            return {\n              ...c,\n              salary: props.salaries.filter(s => s.employee_id === c.id),\n            };\n          });\n        } else {\n          return props.colleagues;\n        }\n      });\n\n      const selectOptions = (defaultTitle, options) => {\n        return [{ title: defaultTitle, value: '' }, ...options];\n      };\n\n      watch(\n        query.value,\n        debounce(() => {\n          routerReplace.setRouter(query, {\n            page: 1,\n          });\n        }, 500)\n      );\n\n      return {\n        route,\n        routerReplace,\n        query,\n        messagesTableHead,\n        colleaguesIndex,\n        parseDate,\n        differenceDaysScheduleSalary,\n        loadingArray,\n        selectOptions,\n        positions: computed(() => store.getters['core/positions']),\n        departments: computed(() => store.getters['core/departments']),\n        teams: computed(() => store.getters['core/teams']),\n      };\n    },\n  };\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}