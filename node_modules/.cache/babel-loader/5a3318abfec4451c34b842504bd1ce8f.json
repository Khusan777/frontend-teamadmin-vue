{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/utils/getFileTypes.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/utils/getFileTypes.js","mtime":1647231276043},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgeyBjaGVja1R5cGUgfSBmcm9tICcuL2NoZWNrVHlwZSc7CmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi9oYXNPd25Qcm9wZXJ0eSc7CmltcG9ydCB7IGNhbGxiYWNrSXRlcmFibGVBcnJheSB9IGZyb20gJy4vY2FsbGJhY2tJdGVyYWJsZUFycmF5JzsKaW1wb3J0IHsgY2FsbGJhY2tJdGVyYWJsZU9iamVjdCB9IGZyb20gJy4vY2FsbGJhY2tJdGVyYWJsZU9iamVjdCc7CmltcG9ydCB7IG1pbWVzIH0gZnJvbSAnLi4vY29uc3RhbnRzL21pbWVzJzsKZXhwb3J0IHZhciBnZXRGaWxlVHlwZXMgPSBmdW5jdGlvbiBnZXRGaWxlVHlwZXMobWltZSkgewogIHZhciB0eXBlcyA9IG5ldyBTZXQoKTsKICB2YXIgY2xlYXJNaW1lID0gbmV3IFNldCgpOwoKICB2YXIgcGFyc2VyID0gZnVuY3Rpb24gcGFyc2VyKGVsLCBjb250YWluZXIsIG1pbWVDb250YWluZXIpIHsKICAgIGlmIChjaGVja1R5cGUoZWwsICdzdHJpbmcnKSkgewogICAgICBlbC5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICB2YXIgc3RyID0gdHlwZS50cmltKCk7CgogICAgICAgIHN3aXRjaCAoc3RyLmluY2x1ZGVzKCcvJykgPyAndHlwZScgOiBzdHIuaW5jbHVkZXMoJy4nKSA/ICdleHBhbnNpb24nIDogJycpIHsKICAgICAgICAgIGNhc2UgJ3R5cGUnOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG1pbWVzLnR5cGVzLCBzdHIpKSB7CiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkKG1pbWVzLnR5cGVzW3N0cl0pOwogICAgICAgICAgICAgICAgbWltZUNvbnRhaW5lci5hZGQoc3RyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnZXhwYW5zaW9uJzoKICAgICAgICAgICAgewogICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShtaW1lcy5leHBhbnNpb24sIHN0cikpIHsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGQobWltZXMuZXhwYW5zaW9uW3N0cl0pOwogICAgICAgICAgICAgICAgbWltZUNvbnRhaW5lci5hZGQoc3RyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIGlmIChjaGVja1R5cGUoZWwsICdhcnJheScpKSB7CiAgICAgIGNhbGxiYWNrSXRlcmFibGVBcnJheShlbCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gcGFyc2VyKGl0ZW0sIGNvbnRhaW5lcik7CiAgICAgIH0pOwogICAgfQoKICAgIGlmIChjaGVja1R5cGUoZWwsICdvYmplY3QnKSkgewogICAgICBjYWxsYmFja0l0ZXJhYmxlT2JqZWN0KGVsLCBmdW5jdGlvbiAoc2hvdywgaXRlbSkgewogICAgICAgIHJldHVybiAhc2hvdyA/IG51bGwgOiBwYXJzZXIoaXRlbSwgY29udGFpbmVyKTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgcGFyc2VyKG1pbWUsIHR5cGVzLCBjbGVhck1pbWUpOwogIHZhciB0ZXh0ID0gQXJyYXkuZnJvbSh0eXBlcykuam9pbignLCAnKTsKICByZXR1cm4gewogICAgdGV4dDogQXJyYXkuZnJvbSh0eXBlcykuam9pbignLCAnKSwKICAgIG1pbWU6IEFycmF5LmZyb20oY2xlYXJNaW1lKS5qb2luKCcsICcpLAogICAgaGFzaDogdGV4dC5zcGxpdCgnLCAnKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZWwpIHsKICAgICAgYWNjW2VsXSA9IHRydWU7CiAgICAgIHJldHVybiBhY2M7CiAgICB9LCB7fSkKICB9Owp9Ow=="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/utils/getFileTypes.js"],"names":["checkType","hasOwnProperty","callbackIterableArray","callbackIterableObject","mimes","getFileTypes","mime","types","Set","clearMime","parser","el","container","mimeContainer","split","forEach","type","str","trim","includes","add","expansion","item","show","text","Array","from","join","hash","reduce","acc"],"mappings":";;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,sBAAT,QAAuC,0BAAvC;AACA,SAASC,KAAT,QAAsB,oBAAtB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI,EAAI;AAClC,MAAMC,KAAK,GAAG,IAAIC,GAAJ,EAAd;AACA,MAAMC,SAAS,GAAG,IAAID,GAAJ,EAAlB;;AACA,MAAME,MAAM,GAAG,SAATA,MAAS,CAACC,EAAD,EAAKC,SAAL,EAAgBC,aAAhB,EAAkC;AAC/C,QAAIb,SAAS,CAACW,EAAD,EAAK,QAAL,CAAb,EAA6B;AAC3BA,MAAAA,EAAE,CAACG,KAAH,CAAS,GAAT,EAAcC,OAAd,CAAsB,UAAAC,IAAI,EAAI;AAC5B,YAAMC,GAAG,GAAGD,IAAI,CAACE,IAAL,EAAZ;;AACA,gBAAQD,GAAG,CAACE,QAAJ,CAAa,GAAb,IAAoB,MAApB,GAA6BF,GAAG,CAACE,QAAJ,CAAa,GAAb,IAAoB,WAApB,GAAkC,EAAvE;AACE,eAAK,MAAL;AACE;AACE,kBAAIlB,cAAc,CAACG,KAAK,CAACG,KAAP,EAAcU,GAAd,CAAlB,EAAsC;AACpCL,gBAAAA,SAAS,CAACQ,GAAV,CAAchB,KAAK,CAACG,KAAN,CAAYU,GAAZ,CAAd;AACAJ,gBAAAA,aAAa,CAACO,GAAd,CAAkBH,GAAlB;AACD;AACF;AACD;;AACF,eAAK,WAAL;AAAkB;AAChB,kBAAIhB,cAAc,CAACG,KAAK,CAACiB,SAAP,EAAkBJ,GAAlB,CAAlB,EAA0C;AACxCL,gBAAAA,SAAS,CAACQ,GAAV,CAAchB,KAAK,CAACiB,SAAN,CAAgBJ,GAAhB,CAAd;AACAJ,gBAAAA,aAAa,CAACO,GAAd,CAAkBH,GAAlB;AACD;AACF;AAdH;AAgBD,OAlBD;AAmBD;;AAED,QAAIjB,SAAS,CAACW,EAAD,EAAK,OAAL,CAAb,EAA4B;AAC1BT,MAAAA,qBAAqB,CAACS,EAAD,EAAK,UAAAW,IAAI;AAAA,eAAIZ,MAAM,CAACY,IAAD,EAAOV,SAAP,CAAV;AAAA,OAAT,CAArB;AACD;;AAED,QAAIZ,SAAS,CAACW,EAAD,EAAK,QAAL,CAAb,EAA6B;AAC3BR,MAAAA,sBAAsB,CAACQ,EAAD,EAAK,UAACY,IAAD,EAAOD,IAAP;AAAA,eAAiB,CAACC,IAAD,GAAQ,IAAR,GAAeb,MAAM,CAACY,IAAD,EAAOV,SAAP,CAAtC;AAAA,OAAL,CAAtB;AACD;AACF,GA9BD;;AAgCAF,EAAAA,MAAM,CAACJ,IAAD,EAAOC,KAAP,EAAcE,SAAd,CAAN;AAEA,MAAMe,IAAI,GAAGC,KAAK,CAACC,IAAN,CAAWnB,KAAX,EAAkBoB,IAAlB,CAAuB,IAAvB,CAAb;AACA,SAAO;AACLH,IAAAA,IAAI,EAAEC,KAAK,CAACC,IAAN,CAAWnB,KAAX,EAAkBoB,IAAlB,CAAuB,IAAvB,CADD;AAELrB,IAAAA,IAAI,EAAEmB,KAAK,CAACC,IAAN,CAAWjB,SAAX,EAAsBkB,IAAtB,CAA2B,IAA3B,CAFD;AAGLC,IAAAA,IAAI,EAAEJ,IAAI,CAACV,KAAL,CAAW,IAAX,EAAiBe,MAAjB,CAAwB,UAACC,GAAD,EAAMnB,EAAN,EAAa;AACzCmB,MAAAA,GAAG,CAACnB,EAAD,CAAH,GAAU,IAAV;AACA,aAAOmB,GAAP;AACD,KAHK,EAGH,EAHG;AAHD,GAAP;AAQD,CA9CM","sourcesContent":["import { checkType } from './checkType';\nimport { hasOwnProperty } from './hasOwnProperty';\nimport { callbackIterableArray } from './callbackIterableArray';\nimport { callbackIterableObject } from './callbackIterableObject';\nimport { mimes } from '../constants/mimes';\n\nexport const getFileTypes = mime => {\n  const types = new Set();\n  const clearMime = new Set();\n  const parser = (el, container, mimeContainer) => {\n    if (checkType(el, 'string')) {\n      el.split(',').forEach(type => {\n        const str = type.trim();\n        switch (str.includes('/') ? 'type' : str.includes('.') ? 'expansion' : '') {\n          case 'type':\n            {\n              if (hasOwnProperty(mimes.types, str)) {\n                container.add(mimes.types[str]);\n                mimeContainer.add(str);\n              }\n            }\n            break;\n          case 'expansion': {\n            if (hasOwnProperty(mimes.expansion, str)) {\n              container.add(mimes.expansion[str]);\n              mimeContainer.add(str);\n            }\n          }\n        }\n      });\n    }\n\n    if (checkType(el, 'array')) {\n      callbackIterableArray(el, item => parser(item, container));\n    }\n\n    if (checkType(el, 'object')) {\n      callbackIterableObject(el, (show, item) => (!show ? null : parser(item, container)));\n    }\n  };\n\n  parser(mime, types, clearMime);\n\n  const text = Array.from(types).join(', ');\n  return {\n    text: Array.from(types).join(', '),\n    mime: Array.from(clearMime).join(', '),\n    hash: text.split(', ').reduce((acc, el) => {\n      acc[el] = true;\n      return acc;\n    }, {}),\n  };\n};\n"]}]}