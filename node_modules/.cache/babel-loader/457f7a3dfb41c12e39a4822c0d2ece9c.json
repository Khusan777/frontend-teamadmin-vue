{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtInput/components/InputMask.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtInput/components/InputMask.js","mtime":1649782068478},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICogYXMgTWFzayBmcm9tICcuLy4uLy4uLy4uL21peGlucy9kaXJlY3RpdmVzL01hc2snOwppbXBvcnQgeyBjb21wdXRlZCwgaCwgcmVmLCB0b1JlZnMsIHdhdGNoLCB3aXRoRGlyZWN0aXZlcyB9IGZyb20gJ3Z1ZSc7CnZhciBtYXNrID0gTWFzay5kaXJlY3RpdmUsCiAgICBtYXNrZXIgPSBNYXNrLm1hc2tlciwKICAgIHRva2VucyA9IE1hc2sudG9rZW5zOwppbXBvcnQgeyBJbnB1dEV2ZW50c1R5cGVzIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL0lucHV0RXZlbnRzJzsKaW1wb3J0IHsgc2V0SW5wdXRFdmVudHMgfSBmcm9tICcuLi8uLi8uLi9taXhpbnMvZXZlbnRzL0lucHV0RXZlbnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbnB1dE1hc2snLAogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgZW1pdHM6IFsndXBkYXRlOm1vZGVsVmFsdWUnLCAnY2hhbmdlJ10uY29uY2F0KElucHV0RXZlbnRzVHlwZXMpLAogIHByb3BzOiB7CiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3RleHQnCiAgICB9LAogICAgbW9kZWxWYWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIG1hc2s6IHsKICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG1hc2tlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRva2VuczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB0b2tlbnM7CiAgICAgIH0KICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CgogICAgdmFyIF90b1JlZnMgPSB0b1JlZnMocHJvcHMpLAogICAgICAgIG1vZGVsVmFsdWUgPSBfdG9SZWZzLm1vZGVsVmFsdWUsCiAgICAgICAgbWFzayA9IF90b1JlZnMubWFzaywKICAgICAgICBtYXNrZWQgPSBfdG9SZWZzLm1hc2tlZCwKICAgICAgICB0b2tlbnMgPSBfdG9SZWZzLnRva2VuczsKCiAgICB2YXIgbGFzdFZhbHVlID0gcmVmKG51bGwpOwogICAgdmFyIGRpc3BsYXkgPSByZWYobW9kZWxWYWx1ZS52YWx1ZSk7CiAgICB2YXIgY29uZmlnID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIG1hc2s6IG1hc2sudmFsdWUsCiAgICAgICAgdG9rZW5zOiB0b2tlbnMudmFsdWUsCiAgICAgICAgbWFza2VkOiBtYXNrZWQudmFsdWUKICAgICAgfTsKICAgIH0pOwogICAgd2F0Y2gobW9kZWxWYWx1ZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gbGFzdFZhbHVlLnZhbHVlKSB7CiAgICAgICAgZGlzcGxheS52YWx1ZSA9IG1hc2tlcih2YWx1ZSwgbWFzay52YWx1ZSwgdHJ1ZSwgdG9rZW5zLnZhbHVlKTsKICAgICAgfQogICAgfSk7CgogICAgdmFyIHJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKHZhbCkgewogICAgICBkaXNwbGF5LnZhbHVlID0gdmFsOwogICAgICB2YXIgdmFsdWUgPSBtYXNrZXIodmFsLCBtYXNrLnZhbHVlLCBtYXNrZWQudmFsdWUsIHRva2Vucy52YWx1ZSk7CgogICAgICBpZiAodmFsdWUgIT09IGxhc3RWYWx1ZS52YWx1ZSkgewogICAgICAgIGxhc3RWYWx1ZS52YWx1ZSA9IHZhbHVlOwogICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgdmFsdWUpOwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH07CgogICAgd2F0Y2gobWFza2VkLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJlZnJlc2goZGlzcGxheS52YWx1ZSk7CiAgICB9KTsKCiAgICB2YXIgb25JbnB1dCA9IGZ1bmN0aW9uIG9uSW5wdXQoZSkgewogICAgICBpZiAoZS5pc1RydXN0ZWQpIHJldHVybjsKICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFdmVudCkgcmV0dXJuIHJlZnJlc2goZS50YXJnZXQudmFsdWUpO2Vsc2UgcmV0dXJuIHJlZnJlc2goZSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHJlZnJlc2g6IHJlZnJlc2gsCiAgICAgIGRpc3BsYXk6IGRpc3BsYXksCiAgICAgIGNvbmZpZzogY29uZmlnLAogICAgICBvbklucHV0OiBvbklucHV0CiAgICB9OwogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB3aXRoRGlyZWN0aXZlcyhoKCdpbnB1dCcsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJGF0dHJzLCBzZXRJbnB1dEV2ZW50cyh0aGlzLiRlbWl0KSwgewogICAgICB2YWx1ZTogdGhpcy5kaXNwbGF5LAogICAgICB0eXBlOiB0aGlzLnR5cGUsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfSwKICAgICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChlKSB7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICAgICAgdmFyIHJlc3VsdCA9IF90aGlzLm9uSW5wdXQoZSk7CgogICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgIF90aGlzLiRlbWl0KCdjaGFuZ2UnLCByZXN1bHQpOwogICAgICAgIH0KICAgICAgfQogICAgfSkpLCBbW21hc2ssIHRoaXMuY29uZmlnXV0pOwogIH0KfTs="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtInput/components/InputMask.js"],"names":["Mask","computed","h","ref","toRefs","watch","withDirectives","mask","directive","masker","tokens","InputEventsTypes","setInputEvents","name","inheritAttrs","emits","concat","props","type","String","default","modelValue","Number","Array","required","masked","Boolean","Object","setup","emit","lastValue","display","value","config","refresh","val","undefined","onInput","e","isTrusted","Event","target","render","assign","$attrs","$emit","onChange","stopPropagation","result"],"mappings":"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","sourcesContent":["import * as Mask from './../../../mixins/directives/Mask';\nimport { computed, h, ref, toRefs, watch, withDirectives } from 'vue';\nconst { directive: mask, masker, tokens } = Mask;\nimport { InputEventsTypes } from '../../../constants/InputEvents';\nimport { setInputEvents } from '../../../mixins/events/InputEvents';\n\nexport default {\n  name: 'InputMask',\n  inheritAttrs: false,\n  emits: ['update:modelValue', 'change'].concat(InputEventsTypes),\n  props: {\n    type: { type: String, default: 'text' },\n    modelValue: { type: [String, Number], default: '' },\n    mask: { type: [String, Array], required: true },\n    masked: { type: Boolean, default: false },\n    tokens: { type: Object, default: () => tokens },\n  },\n  setup(props, { emit }) {\n    const { modelValue, mask, masked, tokens } = toRefs(props);\n    const lastValue = ref(null);\n    const display = ref(modelValue.value);\n\n    const config = computed(() => ({\n      mask: mask.value,\n      tokens: tokens.value,\n      masked: masked.value,\n    }));\n\n    watch(modelValue, value => {\n      if (value !== lastValue.value) {\n        display.value = masker(value, mask.value, true, tokens.value);\n      }\n    });\n\n    const refresh = val => {\n      display.value = val;\n      const value = masker(val, mask.value, masked.value, tokens.value);\n      if (value !== lastValue.value) {\n        lastValue.value = value;\n        emit('update:modelValue', value);\n        return value;\n      }\n      return undefined;\n    };\n    watch(masked, () => {\n      refresh(display.value);\n    });\n\n    const onInput = e => {\n      if (e.isTrusted) return;\n      if (e instanceof Event) return refresh(e.target.value);\n      else return refresh(e);\n    };\n\n    return { refresh, display, config, onInput };\n  },\n  render() {\n    return withDirectives(\n      h(\n        'input',\n        Object.assign({}, this.$attrs, setInputEvents(this.$emit), {\n          value: this.display,\n          type: this.type,\n          onChange: () => null,\n          onInput: e => {\n            e.stopPropagation();\n            const result = this.onInput(e);\n            if (result) {\n              this.$emit('change', result);\n            }\n          },\n        })\n      ),\n      [[mask, this.config]]\n    );\n  },\n};\n"]}]}