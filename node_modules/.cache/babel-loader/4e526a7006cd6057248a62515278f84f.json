{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtCalendar/AtCalendar.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtCalendar/AtCalendar.js","mtime":1647231276026},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FkbWluL0Rlc2t0b3AvTXlQcm9qZWN0cy9mcm9udGVuZC10ZWFtYWRtaW4tdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgd2F0Y2gsIFRyYW5zaXRpb24sIGNhcGl0YWxpemUsIHRvUmVmcywgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgQ2hldnJvbkxlZnRJY29uLCBDaGV2cm9uUmlnaHRJY29uIH0gZnJvbSAnQGhlcm9pY29ucy92dWUvb3V0bGluZS9lc20nOwppbXBvcnQgeyBDaGV2cm9uRG93bkljb24gfSBmcm9tICdAaGVyb2ljb25zL3Z1ZS9zb2xpZC9lc20nOwppbXBvcnQgeyBzaG9ydCBhcyBzaG9ydFdlZWtzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3dlZWtzJzsKaW1wb3J0IHsgZnVsbCBhcyBmdWxsTW9udGhzLCBzaG9ydCBhcyBzaG9ydE1vbnRocyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9tb250aHMnOwppbXBvcnQgeyBmdWxsIGFzIGZ1bGxRdWFydGVycyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9xdWFydGVycyc7CmltcG9ydCB7IGZ1bGwgYXMgZnVsbEhhbGZZZWFycyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9oYWxmWWVhcnMnOwppbXBvcnQgeyBjaGVja1R5cGUsIGdldERhdGVCeUhhbGZZZWFyLCBnZXRIYWxmWWVhckJ5RGF0ZSwgZ2V0UXVhcnRlckJ5RGF0ZSwgZ2V0RGF0ZUJ5UXVhcnRlciB9IGZyb20gJy4uLy4uL3V0aWxzJzsKaW1wb3J0IENhbGVuZGFyIGZyb20gJy4uLy4uL21peGlucy9wcm9wcy9DYWxlbmRhcic7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogJ0F0Q2FsZW5kYXInLAogIGVtaXRzOiBbJ3VwZGF0ZTptb2RlbFZhbHVlJ10sCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgQ2FsZW5kYXIucHJvcHMpLCB7fSwgewogICAgbW9kZWxWYWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBEYXRlLCBBcnJheV0sCiAgICAgIGRlZmF1bHQ6IG5ldyBEYXRlKCkKICAgIH0KICB9KSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgLy8vLyBQcm9wZXJ0aWVzCiAgICB2YXIgY3VycmVudE1vbnRoID0gcmVmKG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDEpOwogICAgdmFyIHNlbGVjdGVkTW9udGggPSByZWYobmV3IERhdGUoKS5nZXRNb250aCgpICsgMSk7CiAgICB2YXIgY3VycmVudFllYXIgPSByZWYobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKTsKICAgIHZhciBzZWxlY3RlZFllYXIgPSByZWYobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKTsKICAgIHZhciBzZWxlY3RlZFF1YXJ0ZXIgPSByZWYoZ2V0UXVhcnRlckJ5RGF0ZShuZXcgRGF0ZSgpKSk7CiAgICB2YXIgc2VsZWN0ZWRIYWxmWWVhciA9IHJlZihnZXRIYWxmWWVhckJ5RGF0ZShuZXcgRGF0ZSgpKSk7CiAgICB2YXIgbW9udGhEYXlzID0gcmVmKFtdKTsKICAgIHZhciBzaG93TW9udGhZZWFyRHJvcGRvd24gPSByZWYoZmFsc2UpOwogICAgdmFyIHNlbGVjdGVkRGF5ID0gcmVmKG51bGwpOwogICAgdmFyIHZhbHVlID0gdG9SZWZzKHByb3BzKS5tb2RlbFZhbHVlOwogICAgdmFyIGRhdGVSYW5nZSA9IHJlZihbbmV3IERhdGUoKSwgbmV3IERhdGUoKV0pOyAvLyBsZXQgZGF0ZVJhbmdlQmV0d2VlbkRheXMgPSByZWYoMCk7CiAgICAvLy8vIFByb3BlcnRpZXMgLUVORAoKICAgIGlmICh2YWx1ZS52YWx1ZSAmJiAhcHJvcHMucmFuZ2UpIHsKICAgICAgY3VycmVudE1vbnRoLnZhbHVlID0gbmV3IERhdGUocHJvcHMubW9kZWxWYWx1ZSkuZ2V0TW9udGgoKSArIDE7CiAgICAgIHNlbGVjdGVkTW9udGgudmFsdWUgPSBuZXcgRGF0ZShwcm9wcy5tb2RlbFZhbHVlKS5nZXRNb250aCgpICsgMTsKICAgICAgY3VycmVudFllYXIudmFsdWUgPSBuZXcgRGF0ZShwcm9wcy5tb2RlbFZhbHVlKS5nZXRGdWxsWWVhcigpOwogICAgICBzZWxlY3RlZFllYXIudmFsdWUgPSBuZXcgRGF0ZShwcm9wcy5tb2RlbFZhbHVlKS5nZXRGdWxsWWVhcigpOwogICAgICBzZWxlY3RlZERheS52YWx1ZSA9IG5ldyBEYXRlKHByb3BzLm1vZGVsVmFsdWUpLmdldERhdGUoKTsKICAgICAgc2VsZWN0ZWRRdWFydGVyLnZhbHVlID0gTWF0aC5mbG9vcihnZXRRdWFydGVyQnlEYXRlKG5ldyBEYXRlKHByb3BzLm1vZGVsVmFsdWUpKSk7CiAgICAgIHNlbGVjdGVkSGFsZlllYXIudmFsdWUgPSBNYXRoLmZsb29yKGdldEhhbGZZZWFyQnlEYXRlKG5ldyBEYXRlKHByb3BzLm1vZGVsVmFsdWUpKSk7CiAgICB9IGVsc2UgaWYgKHByb3BzLnJhbmdlICYmIHZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gMikgewogICAgICBkYXRlUmFuZ2UudmFsdWUgPSB2YWx1ZS52YWx1ZTsKICAgICAgc2VsZWN0ZWRRdWFydGVyLnZhbHVlID0gTWF0aC5mbG9vcihnZXRRdWFydGVyQnlEYXRlKG5ldyBEYXRlKGRhdGVSYW5nZS52YWx1ZVswXSkpKTsKICAgICAgc2VsZWN0ZWRIYWxmWWVhci52YWx1ZSA9IE1hdGguZmxvb3IoZ2V0SGFsZlllYXJCeURhdGUobmV3IERhdGUoZGF0ZVJhbmdlLnZhbHVlWzBdKSkpOwogICAgICBzZWxlY3RlZFllYXIudmFsdWUgPSBuZXcgRGF0ZShkYXRlUmFuZ2UudmFsdWVbMF0pLmdldEZ1bGxZZWFyKCk7CiAgICAgIGN1cnJlbnRZZWFyLnZhbHVlID0gbmV3IERhdGUoZGF0ZVJhbmdlLnZhbHVlWzBdKS5nZXRGdWxsWWVhcigpOwogICAgICBzZWxlY3RlZE1vbnRoLnZhbHVlID0gbmV3IERhdGUoZGF0ZVJhbmdlLnZhbHVlWzBdKS5nZXRNb250aCgpICsgMTsKICAgICAgY3VycmVudE1vbnRoLnZhbHVlID0gbmV3IERhdGUoZGF0ZVJhbmdlLnZhbHVlWzBdKS5nZXRNb250aCgpICsgMTsKICAgIH0gLy8vLyBDb21wdXRlZCBwcm9wZXJ0aWVzCgogICAgLyoqCiAgICAgKiBBcnJheSBvZiB5ZWFycyB0byBzZWxlY3QKICAgICAqIEB0eXBlIHtDb21wdXRlZFJlZjwqW10+fQogICAgICovCgoKICAgIHZhciB5ZWFyc1RvU2VsZWN0ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgeWVhcnMgPSBbXTsKICAgICAgdmFyIGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpOwoKICAgICAgZm9yICh2YXIgaSA9IC01OyBpIDwgNTsgaSsrKSB7CiAgICAgICAgeWVhcnMucHVzaChjdXJyZW50WWVhciArIGkpOwogICAgICB9CgogICAgICByZXR1cm4geWVhcnM7CiAgICB9KTsKICAgIC8qKgogICAgICogR2V0IGRheXMgYmVmb3JlIDFzdCBkYXkgb2YgY3VycmVudCBtb250aCB0byBwcmludAogICAgICogQHR5cGUge0NvbXB1dGVkUmVmPFZOb2RlPFJlbmRlcmVyTm9kZSwgUmVuZGVyZXJFbGVtZW50LCB7W3A6IHN0cmluZ106IGFueX0+W10+fQogICAgICovCgogICAgdmFyIGRheXNCZWZvcmVDdXJyZW50TW9udGhEYXlzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZGF5cyA9IFtdOwogICAgICB2YXIgcHJldk1vbnRoRGF0ZSA9IG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgY3VycmVudE1vbnRoLnZhbHVlIC0gMSwgMCkuZ2V0RGF0ZSgpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb250aERheXMudmFsdWVbMF0ud2Vla0RheSAtIDE7IGkrKykgewogICAgICAgIGRheXMudW5zaGlmdChwcmV2TW9udGhEYXRlIC0gaSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXlzLm1hcChmdW5jdGlvbiAoZGF5KSB7CiAgICAgICAgdmFyIGFsbG93ZWQgPSBpc0FsbG93ZWREYXRlKG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgKGN1cnJlbnRNb250aC52YWx1ZSAtIDIpICUgMTIsIGRheSkpOwogICAgICAgIHJldHVybiBoKCdidXR0b24nLCB7CiAgICAgICAgICBjbGFzczogWyd0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MCBwLTIgdy1hdXRvIHRleHQtY2VudGVyJywgYWxsb3dlZCA/ICd0ZXh0LWdyYXktMzAwIGhvdmVyOnRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNDAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTMwMCcgOiAnY3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtZ3JheS0yMDAgZGFyazp0ZXh0LWdyYXktNTAwJ10sCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gYWxsb3dlZCA/IHNldFByZXZNb250aERhdGUoZGF5KSA6IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSwgZGF5KTsKICAgICAgfSk7CiAgICB9KTsKICAgIC8qKgogICAgICogR2V0IGRheXMgYWZ0ZXIgbGFzdCBkYXkgb2YgY3VycmVudCBtb250aCB0byBwcmludAogICAgICogQHR5cGUge0NvbXB1dGVkUmVmPFZOb2RlPFJlbmRlcmVyTm9kZSwgUmVuZGVyZXJFbGVtZW50LCB7W3A6IHN0cmluZ106IGFueX0+W10+fQogICAgICovCgogICAgdmFyIGRheXNBZnRlckN1cnJlbnRNb250aERheXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXlzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDcgLSBtb250aERheXMudmFsdWVbbW9udGhEYXlzLnZhbHVlLmxlbmd0aCAtIDFdLndlZWtEYXk7IGkrKykgewogICAgICAgIGRheXMucHVzaChpICsgMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXlzLm1hcChmdW5jdGlvbiAoZGF5KSB7CiAgICAgICAgdmFyIG5leHRNb250aCA9IGN1cnJlbnRNb250aC52YWx1ZTsKICAgICAgICB2YXIgeWVhck9mTmV4dE1vbnRoID0gc2VsZWN0ZWRZZWFyLnZhbHVlOwoKICAgICAgICBpZiAobmV4dE1vbnRoID4gMTIpIHsKICAgICAgICAgIHllYXJPZk5leHRNb250aCsrOwogICAgICAgICAgbmV4dE1vbnRoID0gMTsKICAgICAgICB9CgogICAgICAgIHZhciBhbGxvd2VkID0gaXNBbGxvd2VkRGF0ZShuZXcgRGF0ZSh5ZWFyT2ZOZXh0TW9udGgsIG5leHRNb250aCwgZGF5KSk7CiAgICAgICAgcmV0dXJuIGgoJ2J1dHRvbicsIHsKICAgICAgICAgIGNsYXNzOiBbJ3RyYW5zaXRpb24gZHVyYXRpb24tMTUwIHAtMiB3LWF1dG8gdGV4dC1jZW50ZXInLCBhbGxvd2VkID8gJ3RleHQtZ3JheS0zMDAgaG92ZXI6dGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS00MDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktMzAwJyA6ICdjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1ncmF5LTIwMCBkYXJrOnRleHQtZ3JheS01MDAnXSwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHJldHVybiBhbGxvd2VkID8gc2V0TmV4dE1vbnRoRGF0ZShkYXkpIDogbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9LCBkYXkpOwogICAgICB9KTsKICAgIH0pOwogICAgLyoqCiAgICAgKiBUaGUgdGl0bGUgb2YgZGF0ZXBpY2tlcgogICAgICogQHR5cGUge0NvbXB1dGVkUmVmPHN0cmluZz59CiAgICAgKi8KCiAgICB2YXIgaGVhZGVyVGl0bGUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtb250aE5hbWUgPSBmdWxsTW9udGhzW2N1cnJlbnRNb250aC52YWx1ZSAtIDFdOwogICAgICByZXR1cm4gIiIuY29uY2F0KGNhcGl0YWxpemUobW9udGhOYW1lKSwgIiAiKS5jb25jYXQoc2VsZWN0ZWRZZWFyLnZhbHVlKTsKICAgIH0pOyAvLy8vIENvbXB1dGVkIHByb3BlcnRpZXMgLSBFTkQKCiAgICAvKioKICAgICAqIEdldCBEYXRlIHdpdGhvdXQgdGltZQogICAgICogQHBhcmFtIHtEYXRlfSBkYXRlCiAgICAgKiBAcmV0dXJucyB7RGF0ZX0KICAgICAqLwoKICAgIHZhciBnZXREYXRlV2l0aG91dFRpbWUgPSBmdW5jdGlvbiBnZXREYXRlV2l0aG91dFRpbWUoZGF0ZSkgewogICAgICB2YXIgZGF0ZVdpdGhvdXRUaW1lID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgIGRhdGVXaXRob3V0VGltZS5zZXRIb3VycygwLCAwLCAwLCAwKTsKICAgICAgcmV0dXJuIGRhdGVXaXRob3V0VGltZTsKICAgIH07CiAgICAvKioKICAgICAqIENoZWNrIGlmIGRhdGUgaXMgYWxsb3dlZAogICAgICogQHBhcmFtIHtEYXRlfSBkYXRlCiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgICAqLwoKCiAgICB2YXIgaXNBbGxvd2VkRGF0ZSA9IGZ1bmN0aW9uIGlzQWxsb3dlZERhdGUoZGF0ZSkgewogICAgICBpZiAocHJvcHMuYWxsb3dlZERhdGVzKSB7CiAgICAgICAgaWYgKGNoZWNrVHlwZShwcm9wcy5hbGxvd2VkRGF0ZXMsICdhcnJheScpKSB7CiAgICAgICAgICByZXR1cm4gcHJvcHMuYWxsb3dlZERhdGVzLnNvbWUoZnVuY3Rpb24gKGFsbG93ZWREYXRlKSB7CiAgICAgICAgICAgIHJldHVybiBnZXREYXRlV2l0aG91dFRpbWUoZGF0ZSkuZ2V0VGltZSgpID09PSBnZXREYXRlV2l0aG91dFRpbWUoYWxsb3dlZERhdGUpLmdldFRpbWUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoY2hlY2tUeXBlKHByb3BzLmFsbG93ZWREYXRlcywgJ29iamVjdCcpKSB7CiAgICAgICAgICByZXR1cm4gZ2V0RGF0ZVdpdGhvdXRUaW1lKHByb3BzLmFsbG93ZWREYXRlcy5mcm9tKS5nZXRUaW1lKCkgPD0gZ2V0RGF0ZVdpdGhvdXRUaW1lKGRhdGUpLmdldFRpbWUoKSAmJiBnZXREYXRlV2l0aG91dFRpbWUocHJvcHMuYWxsb3dlZERhdGVzLnRvKS5nZXRUaW1lKCkgPj0gZ2V0RGF0ZVdpdGhvdXRUaW1lKGRhdGUpLmdldFRpbWUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwcm9wcy5kaXNhYmxlZERhdGVzKSB7CiAgICAgICAgaWYgKGNoZWNrVHlwZShwcm9wcy5kaXNhYmxlZERhdGVzLCAnYXJyYXknKSkgewogICAgICAgICAgcmV0dXJuICFwcm9wcy5kaXNhYmxlZERhdGVzLnNvbWUoZnVuY3Rpb24gKGRpc2FibGVkRGF0ZSkgewogICAgICAgICAgICByZXR1cm4gZ2V0RGF0ZVdpdGhvdXRUaW1lKGRhdGUpLmdldFRpbWUoKSA9PT0gZ2V0RGF0ZVdpdGhvdXRUaW1lKGRpc2FibGVkRGF0ZSkuZ2V0VGltZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChjaGVja1R5cGUocHJvcHMuZGlzYWJsZWREYXRlcywgJ29iamVjdCcpKSB7CiAgICAgICAgICByZXR1cm4gZ2V0RGF0ZVdpdGhvdXRUaW1lKHByb3BzLmRpc2FibGVkRGF0ZXMuZnJvbSkuZ2V0VGltZSgpID4gZ2V0RGF0ZVdpdGhvdXRUaW1lKGRhdGUpLmdldFRpbWUoKSAmJiBnZXREYXRlV2l0aG91dFRpbWUocHJvcHMuZGlzYWJsZWREYXRlcy50bykuZ2V0VGltZSgpIDwgZ2V0RGF0ZVdpdGhvdXRUaW1lKGRhdGUpLmdldFRpbWUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfTsgLy8vLyBXYXRjaGVycwoKCiAgICBpZiAocHJvcHMucmFuZ2UpIHsKICAgICAgd2F0Y2goZGF0ZVJhbmdlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGRhdGVSYW5nZS52YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIGlmIChuZXcgRGF0ZShkYXRlUmFuZ2UudmFsdWVbMF0pID4gbmV3IERhdGUoZGF0ZVJhbmdlLnZhbHVlWzFdKSkgewogICAgICAgICAgICBkYXRlUmFuZ2UudmFsdWUgPSBkYXRlUmFuZ2UudmFsdWUucmV2ZXJzZSgpOwogICAgICAgICAgfQoKICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZGF0ZVJhbmdlLnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBkZWVwOiB0cnVlCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgd2F0Y2goc2VsZWN0ZWREYXksIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgY3VycmVudE1vbnRoLnZhbHVlIC0gMSwgc2VsZWN0ZWREYXkudmFsdWUpOwogICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZGF0ZSk7CiAgICAgIH0pOwogICAgfSAvLy8vIFdhdGNoZXJzIC0gRU5ECiAgICAvLy8vIEludGVybmFsIGhhbmRsZXJzCgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRheSB3ZWVrIG51bWJlcgogICAgICogQHBhcmFtIHtudW1iZXJ9IGRhdGUKICAgICAqIEByZXR1cm5zIHtudW1iZXJ8bnVtYmVyfQogICAgICovCgoKICAgIHZhciBnZXREYXlPZkRhdGUgPSBmdW5jdGlvbiBnZXREYXlPZkRhdGUoZGF0ZSkgewogICAgICB2YXIgd2Vla0RheSA9IG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgY3VycmVudE1vbnRoLnZhbHVlIC0gMSwgZGF0ZSkuZ2V0RGF5KCk7CiAgICAgIHJldHVybiB3ZWVrRGF5IHx8IDc7CiAgICB9OwogICAgLyoqCiAgICAgKiBHZXQgY3VycmVudCBtb250aCBkYXlzIGNvdW50CiAgICAgKiBAcmV0dXJucyB7dm9pZH0KICAgICAqLwoKCiAgICB2YXIgZ2V0Q3VycmVudE1vbnRoRGF5cyA9IGZ1bmN0aW9uIGdldEN1cnJlbnRNb250aERheXMoKSB7CiAgICAgIHZhciBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgY3VycmVudE1vbnRoLnZhbHVlLCAwKS5nZXREYXRlKCk7CiAgICAgIHZhciBkYXlzID0gW107CgogICAgICBmb3IgKHZhciBkYXkgPSAxOyBkYXkgPD0gZGF5c0luTW9udGg7IGRheSsrKSB7CiAgICAgICAgZGF5cy5wdXNoKHsKICAgICAgICAgIHdlZWtEYXk6IGdldERheU9mRGF0ZShkYXkpLAogICAgICAgICAgZGF0ZTogZGF5LAogICAgICAgICAgYWxsb3dlZDogaXNBbGxvd2VkRGF0ZShuZXcgRGF0ZShzZWxlY3RlZFllYXIudmFsdWUsIGN1cnJlbnRNb250aC52YWx1ZSAtIDEsIGRheSkpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIG1vbnRoRGF5cy52YWx1ZSA9IGRheXM7CiAgICB9OwogICAgLyoqCiAgICAgKiBHZXQgY3VycmVudCB5ZWFycyBsaXN0CiAgICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICAgKi8KCgogICAgdmFyIGdldEN1cnJlbnRZZWFyc0xpc3QgPSBmdW5jdGlvbiBnZXRDdXJyZW50WWVhcnNMaXN0KCkgewogICAgICB2YXIgeWVhcnMgPSBbXTsKICAgICAgdmFyIGN1cnJlbnRZZWFyID0gc2VsZWN0ZWRZZWFyLnZhbHVlOwoKICAgICAgZm9yICh2YXIgaSA9IC00OyBpIDwgNTsgaSsrKSB7CiAgICAgICAgdmFyIHllYXIgPSBjdXJyZW50WWVhciArIGk7CiAgICAgICAgdmFyIGFsbG93ZWQgPSBpc0FsbG93ZWREYXRlKG5ldyBEYXRlKHllYXIsIGN1cnJlbnRNb250aC52YWx1ZSAtIDEsIDEpKTsKICAgICAgICB5ZWFycy5wdXNoKHsKICAgICAgICAgIHZhbHVlOiB5ZWFyLAogICAgICAgICAgYWxsb3dlZDogYWxsb3dlZAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4geWVhcnM7CiAgICB9OwogICAgLyoqCiAgICAgKiBHZXQgcXVhcnRlcnMgbGlzdAogICAgICogQHJldHVybnMge0FycmF5fQogICAgICovCgoKICAgIHZhciBnZXRRdWFydGVyc0xpc3QgPSBmdW5jdGlvbiBnZXRRdWFydGVyc0xpc3QoKSB7CiAgICAgIHZhciBxdWFydGVycyA9IFtdOwoKICAgICAgZm9yICh2YXIgcXVhcnRlciA9IDE7IHF1YXJ0ZXIgPD0gNDsgcXVhcnRlcisrKSB7CiAgICAgICAgdmFyIF9nZXREYXRlQnlRdWFydGVyID0gZ2V0RGF0ZUJ5UXVhcnRlcihxdWFydGVyLCBzZWxlY3RlZFllYXIudmFsdWUpLAogICAgICAgICAgICBkYXRlID0gX2dldERhdGVCeVF1YXJ0ZXIucmFuZ2U7CgogICAgICAgIHZhciBhbGxvd2VkID0gaXNBbGxvd2VkRGF0ZShkYXRlWzBdKSAmJiBpc0FsbG93ZWREYXRlKGRhdGVbMV0pOwogICAgICAgIHF1YXJ0ZXJzLnB1c2goewogICAgICAgICAgdmFsdWU6IHF1YXJ0ZXIsCiAgICAgICAgICB0aXRsZTogZnVsbFF1YXJ0ZXJzW3F1YXJ0ZXJdLAogICAgICAgICAgYWxsb3dlZDogYWxsb3dlZAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gcXVhcnRlcnM7CiAgICB9OwogICAgLyoqCiAgICAgKiBHZXQgY3VycmVudCB5ZWFycyBsaXN0CiAgICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICAgKi8KCgogICAgdmFyIGdldEhhbGZZZWFyTGlzdCA9IGZ1bmN0aW9uIGdldEhhbGZZZWFyTGlzdCgpIHsKICAgICAgdmFyIGhhbGZZZWFycyA9IFtdOwoKICAgICAgZm9yICh2YXIgaGFsZlllYXIgPSAxOyBoYWxmWWVhciA8PSAyOyBoYWxmWWVhcisrKSB7CiAgICAgICAgdmFyIF9nZXREYXRlQnlIYWxmWWVhciA9IGdldERhdGVCeUhhbGZZZWFyKGhhbGZZZWFyLCBzZWxlY3RlZFllYXIudmFsdWUpLAogICAgICAgICAgICBkYXRlID0gX2dldERhdGVCeUhhbGZZZWFyLnJhbmdlOwoKICAgICAgICB2YXIgYWxsb3dlZCA9IGlzQWxsb3dlZERhdGUoZGF0ZVswXSkgJiYgaXNBbGxvd2VkRGF0ZShkYXRlWzFdKTsKICAgICAgICBoYWxmWWVhcnMucHVzaCh7CiAgICAgICAgICB2YWx1ZTogaGFsZlllYXIsCiAgICAgICAgICB0aXRsZTogZnVsbEhhbGZZZWFyc1toYWxmWWVhcl0sCiAgICAgICAgICBhbGxvd2VkOiBhbGxvd2VkCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYWxmWWVhcnM7CiAgICB9OwoKICAgIHZhciBnZXRQaWNrZXJCdXR0b25DbGFzc2VzID0gZnVuY3Rpb24gZ2V0UGlja2VyQnV0dG9uQ2xhc3Nlcyhjb25kaXRpb24pIHsKICAgICAgcmV0dXJuIGNvbmRpdGlvbiA/ICJiZy1wcmltYXJ5LTYwMCBkYXJrOmJnLXByaW1hcnktNTAwIHRleHQtYWxwaGEiIDogJ3RleHQtZ3JheS03MDAgZGFyazp0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgYWN0aXZlOmJnLWdyYXktMzAwIGRhcms6YWN0aXZlOmJnLWdyYXktOTAwJzsKICAgIH07IC8vLy8gSW50ZXJuYWwgaGFuZGxlcnMgLSBFTkQKICAgIC8vLy8gRXh0ZXJuYWwgaGFuZGxlcnMKCiAgICAvKioKICAgICAqIFByZXZpb3VzIG1vbnRoIGRheXMgY2xpY2sgaGFuZGxlcgogICAgICogQHBhcmFtIHtudW1iZXJ9IGRheQogICAgICovCgoKICAgIHZhciBzZXRQcmV2TW9udGhEYXRlID0gZnVuY3Rpb24gc2V0UHJldk1vbnRoRGF0ZSgpIHsKICAgICAgdmFyIGRheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogc2VsZWN0ZWREYXkudmFsdWU7CgogICAgICBpZiAoY3VycmVudE1vbnRoLnZhbHVlIC0gMSA9PT0gMCkgewogICAgICAgIGN1cnJlbnRNb250aC52YWx1ZSA9IDEyOwogICAgICAgIHNlbGVjdGVkWWVhci52YWx1ZS0tOwogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRNb250aC52YWx1ZS0tOwogICAgICB9CgogICAgICBzZWxlY3RlZERheS52YWx1ZSA9IGRheTsKICAgICAgZ2V0Q3VycmVudE1vbnRoRGF5cygpOwogICAgfTsKICAgIC8qKgogICAgICogTmV4dCBtb250aCBkYXlzIGNsaWNrIGhhbmRsZXIKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYXkKICAgICAqLwoKCiAgICB2YXIgc2V0TmV4dE1vbnRoRGF0ZSA9IGZ1bmN0aW9uIHNldE5leHRNb250aERhdGUoKSB7CiAgICAgIHZhciBkYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHNlbGVjdGVkRGF5LnZhbHVlOwoKICAgICAgaWYgKGN1cnJlbnRNb250aC52YWx1ZSArIDEgPT09IDEzKSB7CiAgICAgICAgY3VycmVudE1vbnRoLnZhbHVlID0gMTsKICAgICAgICBzZWxlY3RlZFllYXIudmFsdWUrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBjdXJyZW50TW9udGgudmFsdWUrKzsKICAgICAgfQoKICAgICAgc2VsZWN0ZWREYXkudmFsdWUgPSBkYXk7CiAgICAgIGdldEN1cnJlbnRNb250aERheXMoKTsKICAgIH07CiAgICAvKioKICAgICAqIFNldCBjdXJyZW50IG1vbnRoIGZyb20gbW9udGggc2VsZWN0b3IKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtb250aAogICAgICogQHBhcmFtIHtib29sZWFufSBlbWl0dGFibGUKICAgICAqLwoKCiAgICB2YXIgc2V0TW9udGggPSBmdW5jdGlvbiBzZXRNb250aChtb250aCkgewogICAgICB2YXIgZW1pdHRhYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwoKICAgICAgaWYgKGN1cnJlbnRNb250aC52YWx1ZSAhPT0gbW9udGggKyAxIHx8IGN1cnJlbnRZZWFyLnZhbHVlICE9PSBzZWxlY3RlZFllYXIudmFsdWUpIHsKICAgICAgICBjdXJyZW50TW9udGgudmFsdWUgPSBtb250aCArIDE7CiAgICAgICAgc2VsZWN0ZWRNb250aC52YWx1ZSA9IG1vbnRoICsgMTsKICAgICAgICBzaG93TW9udGhZZWFyRHJvcGRvd24udmFsdWUgPSBmYWxzZTsKCiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdkYXRlJykgewogICAgICAgICAgZ2V0Q3VycmVudE1vbnRoRGF5cygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVtaXR0YWJsZSkgewogICAgICAgICAgaWYgKHByb3BzLnJhbmdlKSB7CiAgICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgW2dldERhdGVXaXRob3V0VGltZShuZXcgRGF0ZShzZWxlY3RlZFllYXIudmFsdWUsIGN1cnJlbnRNb250aC52YWx1ZSAtIDEsIDEpKSwgZ2V0RGF0ZVdpdGhvdXRUaW1lKG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgY3VycmVudE1vbnRoLnZhbHVlLCAwKSldKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgbmV3IERhdGUoc2VsZWN0ZWRZZWFyLnZhbHVlLCBjdXJyZW50TW9udGgudmFsdWUgLSAxLCBzZWxlY3RlZERheS52YWx1ZSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIC8qKgogICAgICogU2V0IGN1cnJlbnQgeWVhciBmcm9tIHllYXIgc2VsZWN0b3IKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVtaXR0YWJsZQogICAgICovCgoKICAgIHZhciBzZXRZZWFyID0gZnVuY3Rpb24gc2V0WWVhcih5ZWFyKSB7CiAgICAgIHZhciBlbWl0dGFibGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CgogICAgICBpZiAoY3VycmVudFllYXIudmFsdWUgIT09IHllYXIgfHwgc2VsZWN0ZWRZZWFyLnZhbHVlICE9PSB5ZWFyKSB7CiAgICAgICAgc2VsZWN0ZWRZZWFyLnZhbHVlID0geWVhcjsKICAgICAgICBzaG93TW9udGhZZWFyRHJvcGRvd24udmFsdWUgPSBmYWxzZTsKCiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdkYXRlJykgewogICAgICAgICAgZ2V0Q3VycmVudE1vbnRoRGF5cygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVtaXR0YWJsZSkgewogICAgICAgICAgaWYgKHByb3BzLnJhbmdlKSB7CiAgICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgW2dldERhdGVXaXRob3V0VGltZShuZXcgRGF0ZShzZWxlY3RlZFllYXIudmFsdWUsIDAsIDEpKSwgZ2V0RGF0ZVdpdGhvdXRUaW1lKG5ldyBEYXRlKHNlbGVjdGVkWWVhci52YWx1ZSwgMTEgKyAxLCAwKSldKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgbmV3IERhdGUoc2VsZWN0ZWRZZWFyLnZhbHVlLCBjdXJyZW50TW9udGgudmFsdWUgLSAxLCBzZWxlY3RlZERheS52YWx1ZSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIC8qKgogICAgICogU2V0IGN1cnJlbnQgcXVhcnRlcgogICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YXJ0ZXIKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW1pdHRhYmxlCiAgICAgKi8KCgogICAgdmFyIHNldFF1YXJ0ZXIgPSBmdW5jdGlvbiBzZXRRdWFydGVyKHF1YXJ0ZXIpIHsKICAgICAgdmFyIGVtaXR0YWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgc2VsZWN0ZWRRdWFydGVyLnZhbHVlID0gcXVhcnRlcjsKCiAgICAgIHZhciBfZ2V0RGF0ZUJ5UXVhcnRlcjIgPSBnZXREYXRlQnlRdWFydGVyKHF1YXJ0ZXIsIHNlbGVjdGVkWWVhci52YWx1ZSksCiAgICAgICAgICBzaW5nbGUgPSBfZ2V0RGF0ZUJ5UXVhcnRlcjIuc2luZ2xlLAogICAgICAgICAgcmFuZ2UgPSBfZ2V0RGF0ZUJ5UXVhcnRlcjIucmFuZ2U7CgogICAgICBpZiAoZW1pdHRhYmxlKSB7CiAgICAgICAgaWYgKHByb3BzLnJhbmdlKSB7CiAgICAgICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIFtnZXREYXRlV2l0aG91dFRpbWUocmFuZ2VbMF0pLCBnZXREYXRlV2l0aG91dFRpbWUocmFuZ2VbMV0pXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZ2V0RGF0ZVdpdGhvdXRUaW1lKHNpbmdsZSkpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIC8qKgogICAgICogU2V0IGN1cnJlbnQgaGFsZiB5ZWFyCiAgICAgKiBAcGFyYW0ge251bWJlcn0geWVhcgogICAgICogQHBhcmFtIHtib29sZWFufSBlbWl0dGFibGUKICAgICAqLwoKCiAgICB2YXIgc2V0SGFsZlllYXIgPSBmdW5jdGlvbiBzZXRIYWxmWWVhcihoYWxmWWVhcikgewogICAgICB2YXIgZW1pdHRhYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgICBzZWxlY3RlZEhhbGZZZWFyLnZhbHVlID0gaGFsZlllYXI7CgogICAgICB2YXIgX2dldERhdGVCeUhhbGZZZWFyMiA9IGdldERhdGVCeUhhbGZZZWFyKGhhbGZZZWFyLCBzZWxlY3RlZFllYXIudmFsdWUpLAogICAgICAgICAgc2luZ2xlID0gX2dldERhdGVCeUhhbGZZZWFyMi5zaW5nbGUsCiAgICAgICAgICByYW5nZSA9IF9nZXREYXRlQnlIYWxmWWVhcjIucmFuZ2U7CgogICAgICBpZiAoZW1pdHRhYmxlKSB7CiAgICAgICAgaWYgKHByb3BzLnJhbmdlKSB7CiAgICAgICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIFtnZXREYXRlV2l0aG91dFRpbWUocmFuZ2VbMF0pLCBnZXREYXRlV2l0aG91dFRpbWUocmFuZ2VbMV0pXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZ2V0RGF0ZVdpdGhvdXRUaW1lKHNpbmdsZSkpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIC8qKgogICAgICogU2VsZWN0IGRheQogICAgICogQHBhcmFtIHtPYmplY3R9IGRheQogICAgICovCgoKICAgIHZhciBzZXRDdXJyZW50RGF0ZURheSA9IGZ1bmN0aW9uIHNldEN1cnJlbnREYXRlRGF5KGRheSkgewogICAgICBzZWxlY3RlZE1vbnRoLnZhbHVlID0gY3VycmVudE1vbnRoLnZhbHVlOwogICAgICBzZWxlY3RlZERheS52YWx1ZSA9IGRheS5kYXRlOwogICAgfTsKCiAgICB2YXIgc2V0RGF0ZVJhbmdlID0gZnVuY3Rpb24gc2V0RGF0ZVJhbmdlKGRheSwgbW9udGgsIHllYXIpIHsKICAgICAgaWYgKGRhdGVSYW5nZS52YWx1ZVswXSAmJiBkYXRlUmFuZ2UudmFsdWVbMV0pIHsKICAgICAgICBkYXRlUmFuZ2UudmFsdWUgPSBbXTsKICAgICAgfQoKICAgICAgaWYgKCFkYXRlUmFuZ2UudmFsdWVbMF0gJiYgIWRhdGVSYW5nZS52YWx1ZVsxXSkgewogICAgICAgIGRhdGVSYW5nZS52YWx1ZVswXSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkuZGF0ZSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0ZVJhbmdlLnZhbHVlWzBdICYmICFkYXRlUmFuZ2UudmFsdWVbMV0pIHsKICAgICAgICBkYXRlUmFuZ2UudmFsdWVbMV0gPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5LmRhdGUpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBjaGVja0RheUJldHdlZW5EYXRlUmFuZ2UgPSBmdW5jdGlvbiBjaGVja0RheUJldHdlZW5EYXRlUmFuZ2UoZGF5KSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoc2VsZWN0ZWRZZWFyLnZhbHVlLCBjdXJyZW50TW9udGgudmFsdWUgLSAxLCBkYXkuZGF0ZSk7CiAgICAgIHJldHVybiBkYXRlID4gbmV3IERhdGUoZGF0ZVJhbmdlLnZhbHVlWzBdKSAmJiBkYXRlLmdldE1vbnRoKCkgPT09IGN1cnJlbnRNb250aC52YWx1ZSAtIDEgJiYgZGF0ZSA8IG5ldyBEYXRlKGRhdGVSYW5nZS52YWx1ZVsxXSkgJiYgZGF0ZS5nZXRNb250aCgpID09PSBjdXJyZW50TW9udGgudmFsdWUgLSAxOwogICAgfTsKCiAgICB2YXIgcmVuZGVyUGlja2VyVGVtcGxhdGVCeVR5cGUgPSBmdW5jdGlvbiByZW5kZXJQaWNrZXJUZW1wbGF0ZUJ5VHlwZSgpIHsKICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdkYXRlJykgewogICAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgICBjbGFzczogJ2dyaWQgZ3JpZC1jb2xzLTcgZ2FwLTEnCiAgICAgICAgfSwgW2RheXNCZWZvcmVDdXJyZW50TW9udGhEYXlzLnZhbHVlLCBtb250aERheXMudmFsdWUubWFwKGZ1bmN0aW9uIChkYXkpIHsKICAgICAgICAgIHJldHVybiBoKCdidXR0b24nLCB7CiAgICAgICAgICAgIGNsYXNzOiBbJ3RyYW5zaXRpb24gZHVyYXRpb24tMTUwIHAtMSB3LWF1dG8gdGV4dC1jZW50ZXIgcm91bmRlZC1tZCcsIGRheS5hbGxvd2VkID8gZ2V0UGlja2VyQnV0dG9uQ2xhc3Nlcyhwcm9wcy5yYW5nZSA/IGRhdGVSYW5nZS52YWx1ZS5zb21lKGZ1bmN0aW9uIChkYXRlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpID09PSBkYXkuZGF0ZSAmJiBkYXRlLmdldE1vbnRoKCkgKyAxID09PSBjdXJyZW50TW9udGgudmFsdWUgJiYgZGF0ZS5nZXRGdWxsWWVhcigpID09PSBzZWxlY3RlZFllYXIudmFsdWU7CiAgICAgICAgICAgIH0pIDogZGF5LmRhdGUgPT09IHNlbGVjdGVkRGF5LnZhbHVlICYmIHNlbGVjdGVkTW9udGgudmFsdWUgPT09IGN1cnJlbnRNb250aC52YWx1ZSAmJiBzZWxlY3RlZFllYXIudmFsdWUgPT09IGN1cnJlbnRZZWFyLnZhbHVlKSA6ICdjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1ncmF5LTIwMCBkYXJrOnRleHQtZ3JheS01MDAnLCBjaGVja0RheUJldHdlZW5EYXRlUmFuZ2UoZGF5KSA/ICJiZy1wcmltYXJ5LTEwMCBkYXJrOmJnLXByaW1hcnktNTAwIGRhcms6Ymctb3BhY2l0eS0zMCIgOiAnJ10sCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgaWYgKGRheS5hbGxvd2VkKSB7CiAgICAgICAgICAgICAgICBpZiAocHJvcHMucmFuZ2UpIHsKICAgICAgICAgICAgICAgICAgc2V0RGF0ZVJhbmdlKGRheSwgY3VycmVudE1vbnRoLnZhbHVlIC0gMSwgc2VsZWN0ZWRZZWFyLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNldEN1cnJlbnREYXRlRGF5KGRheSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBkYXkuZGF0ZSk7CiAgICAgICAgfSksIGRheXNBZnRlckN1cnJlbnRNb250aERheXMudmFsdWVdKTsKICAgICAgfQoKICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdtb250aCcpIHsKICAgICAgICByZXR1cm4gaCgnZGl2JywgewogICAgICAgICAgY2xhc3M6ICdncmlkIGdyaWQtY29scy0zIGdhcC0xJwogICAgICAgIH0sIFtmdWxsTW9udGhzLm1hcChmdW5jdGlvbiAobW9udGgsIGluZGV4KSB7CiAgICAgICAgICB2YXIgYWxsb3dlZCA9IGlzQWxsb3dlZERhdGUobmV3IERhdGUoc2VsZWN0ZWRZZWFyLnZhbHVlLCBpbmRleCwgMSkpOwogICAgICAgICAgcmV0dXJuIGgoJ2J1dHRvbicsIHsKICAgICAgICAgICAgY2xhc3M6IFsndHJhbnNpdGlvbiBkdXJhdGlvbi0xNTAgcC0xIHctYXV0byB0ZXh0LWNlbnRlciByb3VuZGVkLW1kJywgYWxsb3dlZCA/IGdldFBpY2tlckJ1dHRvbkNsYXNzZXMoaW5kZXggKyAxID09PSBjdXJyZW50TW9udGgudmFsdWUgJiYgc2VsZWN0ZWRZZWFyLnZhbHVlID09PSBjdXJyZW50WWVhci52YWx1ZSkgOiAnY3Vyc29yLW5vdC1hbGxvd2VkIHRleHQtZ3JheS0yMDAgZGFyazp0ZXh0LWdyYXktNTAwJ10sCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQgPyBzZXRNb250aChpbmRleCkgOiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBjYXBpdGFsaXplKG1vbnRoKSk7CiAgICAgICAgfSldKTsKICAgICAgfQoKICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICd5ZWFyJykgewogICAgICAgIHZhciB5ZWFycyA9IGdldEN1cnJlbnRZZWFyc0xpc3QoKTsKICAgICAgICByZXR1cm4gaCgnZGl2JywgewogICAgICAgICAgY2xhc3M6ICdncmlkIGdyaWQtY29scy0zIGdhcC0xJwogICAgICAgIH0sIFt5ZWFycy5tYXAoZnVuY3Rpb24gKHllYXIpIHsKICAgICAgICAgIHJldHVybiBoKCdidXR0b24nLCB7CiAgICAgICAgICAgIGNsYXNzOiBbJ3RyYW5zaXRpb24gZHVyYXRpb24tMTUwIHAtMSB3LWF1dG8gdGV4dC1jZW50ZXIgcm91bmRlZC1tZCcsIHllYXIuYWxsb3dlZCA/IGdldFBpY2tlckJ1dHRvbkNsYXNzZXMoeWVhci52YWx1ZSA9PT0gY3VycmVudFllYXIudmFsdWUpIDogJ2N1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LWdyYXktMjAwIGRhcms6dGV4dC1ncmF5LTUwMCddLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiB5ZWFyLmFsbG93ZWQgPyBzZXRZZWFyKHllYXIudmFsdWUpIDogbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgeWVhci52YWx1ZSk7CiAgICAgICAgfSldKTsKICAgICAgfQoKICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdxdWFydGVyJykgewogICAgICAgIHZhciBxdWFydGVycyA9IGdldFF1YXJ0ZXJzTGlzdCgpOwogICAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgICBjbGFzczogJ2dyaWQgZ3JpZC1jb2xzLTIgZ2FwLTEnCiAgICAgICAgfSwgW3F1YXJ0ZXJzLm1hcChmdW5jdGlvbiAocXVhcnRlcikgewogICAgICAgICAgcmV0dXJuIGgoJ2J1dHRvbicsIHsKICAgICAgICAgICAgY2xhc3M6IFsndHJhbnNpdGlvbiBkdXJhdGlvbi0xNTAgcC0xIHctYXV0byB0ZXh0LWNlbnRlciByb3VuZGVkLWZ1bGwnLCBxdWFydGVyLmFsbG93ZWQgPyBnZXRQaWNrZXJCdXR0b25DbGFzc2VzKHF1YXJ0ZXIudmFsdWUgPT09IHNlbGVjdGVkUXVhcnRlci52YWx1ZSAmJiBjdXJyZW50WWVhci52YWx1ZSA9PT0gc2VsZWN0ZWRZZWFyLnZhbHVlKSA6ICdjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1ncmF5LTIwMCBkYXJrOnRleHQtZ3JheS01MDAnXSwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gcXVhcnRlci5hbGxvd2VkID8gc2V0UXVhcnRlcihxdWFydGVyLnZhbHVlKSA6IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIGNhcGl0YWxpemUocXVhcnRlci50aXRsZSkpOwogICAgICAgIH0pXSk7CiAgICAgIH0KCiAgICAgIGlmIChwcm9wcy50eXBlID09PSAnaGFsZi15ZWFyJykgewogICAgICAgIHZhciBoYWxmWWVhcnMgPSBnZXRIYWxmWWVhckxpc3QoKTsKICAgICAgICByZXR1cm4gaCgnZGl2JywgewogICAgICAgICAgY2xhc3M6ICdncmlkIGdyaWQtY29scy0yIGdhcC0xJwogICAgICAgIH0sIFtoYWxmWWVhcnMubWFwKGZ1bmN0aW9uIChoYWxmWWVhcikgewogICAgICAgICAgcmV0dXJuIGgoJ2J1dHRvbicsIHsKICAgICAgICAgICAgY2xhc3M6IFsndHJhbnNpdGlvbiBkdXJhdGlvbi0xNTAgcC0xIHctYXV0byB0ZXh0LWNlbnRlciByb3VuZGVkLWZ1bGwnLCBoYWxmWWVhci5hbGxvd2VkID8gZ2V0UGlja2VyQnV0dG9uQ2xhc3NlcyhoYWxmWWVhci52YWx1ZSA9PT0gc2VsZWN0ZWRIYWxmWWVhci52YWx1ZSAmJiBjdXJyZW50WWVhci52YWx1ZSA9PT0gc2VsZWN0ZWRZZWFyLnZhbHVlKSA6ICdjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1ncmF5LTIwMCBkYXJrOnRleHQtZ3JheS01MDAnXSwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gaGFsZlllYXIuYWxsb3dlZCA/IHNldEhhbGZZZWFyKGhhbGZZZWFyLnZhbHVlKSA6IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIGNhcGl0YWxpemUoaGFsZlllYXIudGl0bGUpKTsKICAgICAgICB9KV0pOwogICAgICB9CiAgICB9OyAvLy8vIEV4dGVybmFsIGhhbmRsZXMgLSBFTkQKCgogICAgaWYgKHByb3BzLnR5cGUgPT09ICdkYXRlJykgewogICAgICBnZXRDdXJyZW50TW9udGhEYXlzKCk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgbW9udGhEYXlzOiBtb250aERheXMsCiAgICAgIHNlbGVjdGVkRGF5OiBzZWxlY3RlZERheSwKICAgICAgc2VsZWN0ZWRZZWFyOiBzZWxlY3RlZFllYXIsCiAgICAgIGN1cnJlbnRZZWFyOiBjdXJyZW50WWVhciwKICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsCiAgICAgIGhlYWRlclRpdGxlOiBoZWFkZXJUaXRsZSwKICAgICAgc2hvd01vbnRoWWVhckRyb3Bkb3duOiBzaG93TW9udGhZZWFyRHJvcGRvd24sCiAgICAgIHllYXJzVG9TZWxlY3Q6IHllYXJzVG9TZWxlY3QsCiAgICAgIGRhdGVSYW5nZTogZGF0ZVJhbmdlLAogICAgICBzZXRNb250aDogc2V0TW9udGgsCiAgICAgIHNldFllYXI6IHNldFllYXIsCiAgICAgIHNldFByZXZNb250aERhdGU6IHNldFByZXZNb250aERhdGUsCiAgICAgIHNldE5leHRNb250aERhdGU6IHNldE5leHRNb250aERhdGUsCiAgICAgIHJlbmRlclBpY2tlclRlbXBsYXRlQnlUeXBlOiByZW5kZXJQaWNrZXJUZW1wbGF0ZUJ5VHlwZSwKICAgICAgZGF5c0JlZm9yZUN1cnJlbnRNb250aERheXM6IGRheXNCZWZvcmVDdXJyZW50TW9udGhEYXlzLAogICAgICBkYXlzQWZ0ZXJDdXJyZW50TW9udGhEYXlzOiBkYXlzQWZ0ZXJDdXJyZW50TW9udGhEYXlzLAogICAgICBzZXRDdXJyZW50RGF0ZURheTogc2V0Q3VycmVudERhdGVEYXkKICAgIH07CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgY2xhc3M6ICdibG9jayB3LWZ1bGwgaC1mdWxsIGJnLXdoaXRlIGRhcms6YmctZ3JheS03MDAnCiAgICB9LCBbaCgnZGl2JywgewogICAgICBjbGFzczogJ2ZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBoLTEyIGJvcmRlci1iLTIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNTAwIGRhcms6Ym9yZGVyLW9wYWNpdHktMzAgbWItMScKICAgIH0sIFtoKCdidXR0b24nLCB7CiAgICAgIGNsYXNzOiAncC0yIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIHJvdW5kZWQtbWQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCcsCiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICd5ZWFyJykgewogICAgICAgICAgX3RoaXMuc2V0WWVhcihfdGhpcy5zZWxlY3RlZFllYXIgLSAzLCBmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gJ21vbnRoJyB8fCBfdGhpcy50eXBlID09PSAncXVhcnRlcicgfHwgX3RoaXMudHlwZSA9PT0gJ2hhbGYteWVhcicpIHsKICAgICAgICAgIF90aGlzLnNldFllYXIoX3RoaXMuc2VsZWN0ZWRZZWFyIC0gMSwgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICdkYXRlJykgewogICAgICAgICAgX3RoaXMuc2V0UHJldk1vbnRoRGF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgW2goQ2hldnJvbkxlZnRJY29uLCB7CiAgICAgIGNsYXNzOiAnaC01IHctNSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCcKICAgIH0pXSksIHRoaXMudHlwZSA9PT0gJ2RhdGUnID8gaCgnZGl2JywgewogICAgICBjbGFzczogJ3JlbGF0aXZlJwogICAgfSwgW2goJ2J1dHRvbicsIHsKICAgICAgY2xhc3M6ICd0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MCBmb250LXNlbWlib2xkIGhvdmVyOmJnLWdyYXktMTAwIHAtMSBweC0zIHJvdW5kZWQtbWQgZGFyazp0ZXh0LXdoaXRlIGRhcms6aG92ZXI6YmctZ3JheS04MDAnLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHJldHVybiBfdGhpcy5zaG93TW9udGhZZWFyRHJvcGRvd24gPSAhX3RoaXMuc2hvd01vbnRoWWVhckRyb3Bkb3duOwogICAgICB9CiAgICB9LCBbaCgnc3BhbicsIHsKICAgICAgY2xhc3M6ICdmbGV4IGl0ZW1zLWNlbnRlcicKICAgIH0sIFt0aGlzLmhlYWRlclRpdGxlLCBoKENoZXZyb25Eb3duSWNvbiwgewogICAgICBjbGFzczogWyd0cmFuc2Zvcm0gZWFzZS1pbi1vdXQgZHVyYXRpb24tMTUwIHctNSBoLTUgbWwtMScsIHsKICAgICAgICAncm90YXRlLTE4MCc6IHRoaXMuc2hvd01vbnRoWWVhckRyb3Bkb3duCiAgICAgIH1dCiAgICB9KV0pXSksIGgoVHJhbnNpdGlvbiwgewogICAgICBlbnRlckFjdGl2ZUNsYXNzOiAndHJhbnNpdGlvbiBlYXNlLW91dCBkdXJhdGlvbi0xMDAnLAogICAgICBlbnRlckZyb21DbGFzczogJ3RyYW5zZm9ybSBvcGFjaXR5LTAgc2NhbGUtOTUnLAogICAgICBlbnRlclRvQ2xhc3M6ICd0cmFuc2Zvcm0gb3BhY2l0eS0xMDAgc2NhbGUtMTAwJywKICAgICAgbGVhdmVBY3RpdmVDbGFzczogJ3RyYW5zaXRpb24gZWFzZS1pbiBkdXJhdGlvbi03NScsCiAgICAgIGxlYXZlRnJvbUNsYXNzOiAndHJhbnNmb3JtIG9wYWNpdHktMTAwIHNjYWxlLTEwMCcsCiAgICAgIGxlYXZlVG9DbGFzczogJ3RyYW5zZm9ybSBvcGFjaXR5LTAgc2NhbGUtOTUnCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBfdGhpcy5zaG93TW9udGhZZWFyRHJvcGRvd24gPyBoKCdkaXYnLCB7CiAgICAgICAgICBjbGFzczogJ3RyYW5zaXRpb24gZHVyYXRpb24tMTUwIHctZnVsbCBhYnNvbHV0ZSBmbGV4IGp1c3RpZnktY2VudGVyIG10LTEgcHktMiBib3JkZXItMiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS01MDAgcm91bmRlZC1tZCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHNoYWRvdy1sZyBteC1hdXRvJwogICAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgICBjbGFzczogJ2dyaWQgZ3JpZC1jb2xzLTIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyJwogICAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgICBjbGFzczogJ21heC1oLTQ4IG92ZXJmbG93LXgtaGlkZGVuIG92ZXJmbG93LXktYXV0byBib3JkZXItci0yIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTUwMCBweC0yJwogICAgICAgIH0sIFtzaG9ydE1vbnRocy5tYXAoZnVuY3Rpb24gKG1vbnRoLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGgoJ2J1dHRvbicsIHsKICAgICAgICAgICAgY2xhc3M6IFsncC0wLjUnLCBpbmRleCArIDEgPT09IF90aGlzLmN1cnJlbnRNb250aCA/ICJ0ZXh0LXByaW1hcnktNjAwIGRhcms6dGV4dC1wcmltYXJ5LTQwMCBmb250LWJvbGQiIDogJ3RleHQtZ3JheS03MDAgaG92ZXI6dGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0zMDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktMTAwJ10sCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldE1vbnRoKGluZGV4LCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIGNhcGl0YWxpemUobW9udGgpKTsKICAgICAgICB9KV0pLCBoKCdkaXYnLCB7CiAgICAgICAgICBjbGFzczogJ21heC1oLTQ4IG92ZXJmbG93LXgtaGlkZGVuIG92ZXJmbG93LXktYXV0byBweC0yJwogICAgICAgIH0sIFtfdGhpcy55ZWFyc1RvU2VsZWN0Lm1hcChmdW5jdGlvbiAoeWVhcikgewogICAgICAgICAgcmV0dXJuIGgoJ2J1dHRvbicsIHsKICAgICAgICAgICAgY2xhc3M6IFsncC0wLjUnLCB5ZWFyID09PSBfdGhpcy5zZWxlY3RlZFllYXIgPyAidGV4dC1wcmltYXJ5LTYwMCBkYXJrOnRleHQtcHJpbWFyeS00MDAgZm9udC1ib2xkIiA6ICd0ZXh0LWdyYXktNzAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMzAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTEwMCddLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRZZWFyKHllYXIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgeWVhcik7CiAgICAgICAgfSldKV0pXSkgOiBudWxsOwogICAgICB9CiAgICB9KV0pIDogaCgnc3BhbicsIHsKICAgICAgY2xhc3M6ICdmb250LXNlbWlib2xkIHAtMSBweC0zIHJvdW5kZWQtbWQgZGFyazp0ZXh0LXdoaXRlJwogICAgfSwgdGhpcy50eXBlID09PSAneWVhcicgPyB0aGlzLmN1cnJlbnRZZWFyIDogdGhpcy5zZWxlY3RlZFllYXIpLCBoKCdidXR0b24nLCB7CiAgICAgIGNsYXNzOiAncC0yIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIHJvdW5kZWQtbWQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCcsCiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICd5ZWFyJykgewogICAgICAgICAgX3RoaXMuc2V0WWVhcihfdGhpcy5zZWxlY3RlZFllYXIgKyAzLCBmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gJ21vbnRoJyB8fCBfdGhpcy50eXBlID09PSAncXVhcnRlcicgfHwgX3RoaXMudHlwZSA9PT0gJ2hhbGYteWVhcicpIHsKICAgICAgICAgIF90aGlzLnNldFllYXIoX3RoaXMuc2VsZWN0ZWRZZWFyICsgMSwgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICdkYXRlJykgewogICAgICAgICAgX3RoaXMuc2V0TmV4dE1vbnRoRGF0ZSgpOwogICAgICAgIH0gLy8gdGhpcy50eXBlICE9PSAnZGF0ZScgPyB0aGlzLnNldE5leHRZZWFyKCkgOiB0aGlzLnNldE5leHRNb250aERhdGUoKTsKCiAgICAgIH0KICAgIH0sIFtoKENoZXZyb25SaWdodEljb24sIHsKICAgICAgY2xhc3M6ICdoLTUgdy01IHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwJwogICAgfSldKV0pLCB0aGlzLnR5cGUgPT09ICdkYXRlJyA/IGgoJ2RpdicsIHsKICAgICAgY2xhc3M6ICdncmlkIGdyaWQtY29scy03IGdhcC0xJwogICAgfSwgW3Nob3J0V2Vla3MubWFwKGZ1bmN0aW9uICh3ZWVrRGF5KSB7CiAgICAgIHJldHVybiBoKCdzcGFuJywgewogICAgICAgIGNsYXNzOiAndGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS0zMDAgcC0yIHctYXV0byB0ZXh0LWNlbnRlcicKICAgICAgfSwgd2Vla0RheSk7CiAgICB9KV0pIDogbnVsbCwgdGhpcy5yZW5kZXJQaWNrZXJUZW1wbGF0ZUJ5VHlwZSgpXSk7CiAgfQp9KTs="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/plugins/aliftech-ui/components/AtCalendar/AtCalendar.js"],"names":["h","ref","computed","watch","Transition","capitalize","toRefs","defineComponent","ChevronLeftIcon","ChevronRightIcon","ChevronDownIcon","short","shortWeeks","full","fullMonths","shortMonths","fullQuarters","fullHalfYears","checkType","getDateByHalfYear","getHalfYearByDate","getQuarterByDate","getDateByQuarter","Calendar","name","emits","props","modelValue","type","String","Date","Array","default","setup","emit","currentMonth","getMonth","selectedMonth","currentYear","getFullYear","selectedYear","selectedQuarter","selectedHalfYear","monthDays","showMonthYearDropdown","selectedDay","value","dateRange","range","getDate","Math","floor","length","yearsToSelect","years","i","push","daysBeforeCurrentMonthDays","days","prevMonthDate","weekDay","unshift","map","day","allowed","isAllowedDate","class","onClick","setPrevMonthDate","daysAfterCurrentMonthDays","nextMonth","yearOfNextMonth","setNextMonthDate","headerTitle","monthName","getDateWithoutTime","date","dateWithoutTime","setHours","allowedDates","some","allowedDate","getTime","from","to","disabledDates","disabledDate","reverse","deep","getDayOfDate","getDay","getCurrentMonthDays","daysInMonth","getCurrentYearsList","year","getQuartersList","quarters","quarter","title","getHalfYearList","halfYears","halfYear","getPickerButtonClasses","condition","setMonth","month","emittable","setYear","setQuarter","single","setHalfYear","setCurrentDateDay","setDateRange","checkDayBetweenDateRange","renderPickerTemplateByType","index","render","enterActiveClass","enterFromClass","enterToClass","leaveActiveClass","leaveFromClass","leaveToClass"],"mappings":"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","sourcesContent":["import { h, ref, computed, watch, Transition, capitalize, toRefs, defineComponent } from 'vue';\nimport { ChevronLeftIcon, ChevronRightIcon } from '@heroicons/vue/outline/esm';\nimport { ChevronDownIcon } from '@heroicons/vue/solid/esm';\nimport { short as shortWeeks } from '../../constants/weeks';\nimport { full as fullMonths, short as shortMonths } from '../../constants/months';\nimport { full as fullQuarters } from '../../constants/quarters';\nimport { full as fullHalfYears } from '../../constants/halfYears';\nimport { checkType, getDateByHalfYear, getHalfYearByDate, getQuarterByDate, getDateByQuarter } from '../../utils';\nimport Calendar from '../../mixins/props/Calendar';\n\nexport default defineComponent({\n  name: 'AtCalendar',\n  emits: ['update:modelValue'],\n  props: {\n    ...Calendar.props,\n    modelValue: { type: [String, Date, Array], default: new Date() },\n  },\n  setup(props, { emit }) {\n    //// Properties\n    let currentMonth = ref(new Date().getMonth() + 1);\n    let selectedMonth = ref(new Date().getMonth() + 1);\n    let currentYear = ref(new Date().getFullYear());\n    let selectedYear = ref(new Date().getFullYear());\n    let selectedQuarter = ref(getQuarterByDate(new Date()));\n    let selectedHalfYear = ref(getHalfYearByDate(new Date()));\n    let monthDays = ref([]);\n    let showMonthYearDropdown = ref(false);\n    let selectedDay = ref(null);\n    let value = toRefs(props).modelValue;\n    let dateRange = ref([new Date(), new Date()]);\n    // let dateRangeBetweenDays = ref(0);\n    //// Properties -END\n\n    if (value.value && !props.range) {\n      currentMonth.value = new Date(props.modelValue).getMonth() + 1;\n      selectedMonth.value = new Date(props.modelValue).getMonth() + 1;\n      currentYear.value = new Date(props.modelValue).getFullYear();\n      selectedYear.value = new Date(props.modelValue).getFullYear();\n      selectedDay.value = new Date(props.modelValue).getDate();\n      selectedQuarter.value = Math.floor(getQuarterByDate(new Date(props.modelValue)));\n      selectedHalfYear.value = Math.floor(getHalfYearByDate(new Date(props.modelValue)));\n    } else if (props.range && value.value.length === 2) {\n      dateRange.value = value.value;\n      selectedQuarter.value = Math.floor(getQuarterByDate(new Date(dateRange.value[0])));\n      selectedHalfYear.value = Math.floor(getHalfYearByDate(new Date(dateRange.value[0])));\n      selectedYear.value = new Date(dateRange.value[0]).getFullYear();\n      currentYear.value = new Date(dateRange.value[0]).getFullYear();\n      selectedMonth.value = new Date(dateRange.value[0]).getMonth() + 1;\n      currentMonth.value = new Date(dateRange.value[0]).getMonth() + 1;\n    }\n\n    //// Computed properties\n    /**\n     * Array of years to select\n     * @type {ComputedRef<*[]>}\n     */\n    const yearsToSelect = computed(() => {\n      let years = [];\n      const currentYear = new Date().getFullYear();\n      for (let i = -5; i < 5; i++) {\n        years.push(currentYear + i);\n      }\n      return years;\n    });\n\n    /**\n     * Get days before 1st day of current month to print\n     * @type {ComputedRef<VNode<RendererNode, RendererElement, {[p: string]: any}>[]>}\n     */\n    const daysBeforeCurrentMonthDays = computed(() => {\n      let days = [];\n      const prevMonthDate = new Date(selectedYear.value, currentMonth.value - 1, 0).getDate();\n      for (let i = 0; i < monthDays.value[0].weekDay - 1; i++) {\n        days.unshift(prevMonthDate - i);\n      }\n      return days.map(day => {\n        const allowed = isAllowedDate(new Date(selectedYear.value, (currentMonth.value - 2) % 12, day));\n        return h(\n          'button',\n          {\n            class: [\n              'transition duration-150 p-2 w-auto text-center',\n              allowed\n                ? 'text-gray-300 hover:text-gray-400 dark:text-gray-400 dark:hover:text-gray-300'\n                : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n            ],\n            onClick: () => (allowed ? setPrevMonthDate(day) : null),\n          },\n          day\n        );\n      });\n    });\n\n    /**\n     * Get days after last day of current month to print\n     * @type {ComputedRef<VNode<RendererNode, RendererElement, {[p: string]: any}>[]>}\n     */\n    const daysAfterCurrentMonthDays = computed(() => {\n      let days = [];\n      for (let i = 0; i < 7 - monthDays.value[monthDays.value.length - 1].weekDay; i++) {\n        days.push(i + 1);\n      }\n      return days.map(day => {\n        let nextMonth = currentMonth.value;\n        let yearOfNextMonth = selectedYear.value;\n        if (nextMonth > 12) {\n          yearOfNextMonth++;\n          nextMonth = 1;\n        }\n        const allowed = isAllowedDate(new Date(yearOfNextMonth, nextMonth, day));\n\n        return h(\n          'button',\n          {\n            class: [\n              'transition duration-150 p-2 w-auto text-center',\n              allowed\n                ? 'text-gray-300 hover:text-gray-400 dark:text-gray-400 dark:hover:text-gray-300'\n                : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n            ],\n            onClick: () => (allowed ? setNextMonthDate(day) : null),\n          },\n          day\n        );\n      });\n    });\n    /**\n     * The title of datepicker\n     * @type {ComputedRef<string>}\n     */\n    const headerTitle = computed(() => {\n      const monthName = fullMonths[currentMonth.value - 1];\n      return `${capitalize(monthName)} ${selectedYear.value}`;\n    });\n    //// Computed properties - END\n\n    /**\n     * Get Date without time\n     * @param {Date} date\n     * @returns {Date}\n     */\n    const getDateWithoutTime = date => {\n      const dateWithoutTime = new Date(date);\n      dateWithoutTime.setHours(0, 0, 0, 0);\n      return dateWithoutTime;\n    };\n\n    /**\n     * Check if date is allowed\n     * @param {Date} date\n     * @returns {boolean}\n     */\n    const isAllowedDate = date => {\n      if (props.allowedDates) {\n        if (checkType(props.allowedDates, 'array')) {\n          return props.allowedDates.some(\n            allowedDate => getDateWithoutTime(date).getTime() === getDateWithoutTime(allowedDate).getTime()\n          );\n        } else if (checkType(props.allowedDates, 'object')) {\n          return (\n            getDateWithoutTime(props.allowedDates.from).getTime() <= getDateWithoutTime(date).getTime() &&\n            getDateWithoutTime(props.allowedDates.to).getTime() >= getDateWithoutTime(date).getTime()\n          );\n        }\n      }\n      if (props.disabledDates) {\n        if (checkType(props.disabledDates, 'array')) {\n          return !props.disabledDates.some(disabledDate => {\n            return getDateWithoutTime(date).getTime() === getDateWithoutTime(disabledDate).getTime();\n          });\n        } else if (checkType(props.disabledDates, 'object')) {\n          return (\n            getDateWithoutTime(props.disabledDates.from).getTime() > getDateWithoutTime(date).getTime() &&\n            getDateWithoutTime(props.disabledDates.to).getTime() < getDateWithoutTime(date).getTime()\n          );\n        }\n      }\n      return true;\n    };\n\n    //// Watchers\n    if (props.range) {\n      watch(\n        dateRange,\n        () => {\n          if (dateRange.value.length === 2) {\n            if (new Date(dateRange.value[0]) > new Date(dateRange.value[1])) {\n              dateRange.value = dateRange.value.reverse();\n            }\n            emit('update:modelValue', dateRange.value);\n          }\n        },\n        { deep: true }\n      );\n    } else {\n      watch(selectedDay, () => {\n        const date = new Date(selectedYear.value, currentMonth.value - 1, selectedDay.value);\n        emit('update:modelValue', date);\n      });\n    }\n\n    //// Watchers - END\n\n    //// Internal handlers\n    /**\n     * Return the day week number\n     * @param {number} date\n     * @returns {number|number}\n     */\n    const getDayOfDate = date => {\n      const weekDay = new Date(selectedYear.value, currentMonth.value - 1, date).getDay();\n      return weekDay || 7;\n    };\n\n    /**\n     * Get current month days count\n     * @returns {void}\n     */\n    const getCurrentMonthDays = () => {\n      let daysInMonth = new Date(selectedYear.value, currentMonth.value, 0).getDate();\n      let days = [];\n\n      for (let day = 1; day <= daysInMonth; day++) {\n        days.push({\n          weekDay: getDayOfDate(day),\n          date: day,\n          allowed: isAllowedDate(new Date(selectedYear.value, currentMonth.value - 1, day)),\n        });\n      }\n\n      monthDays.value = days;\n    };\n\n    /**\n     * Get current years list\n     * @returns {Array}\n     */\n    const getCurrentYearsList = () => {\n      const years = [];\n      const currentYear = selectedYear.value;\n      for (let i = -4; i < 5; i++) {\n        const year = currentYear + i;\n        const allowed = isAllowedDate(new Date(year, currentMonth.value - 1, 1));\n        years.push({ value: year, allowed });\n      }\n      return years;\n    };\n\n    /**\n     * Get quarters list\n     * @returns {Array}\n     */\n    const getQuartersList = () => {\n      const quarters = [];\n      for (let quarter = 1; quarter <= 4; quarter++) {\n        const { range: date } = getDateByQuarter(quarter, selectedYear.value);\n        const allowed = isAllowedDate(date[0]) && isAllowedDate(date[1]);\n        quarters.push({ value: quarter, title: fullQuarters[quarter], allowed });\n      }\n      return quarters;\n    };\n\n    /**\n     * Get current years list\n     * @returns {Array}\n     */\n    const getHalfYearList = () => {\n      const halfYears = [];\n      for (let halfYear = 1; halfYear <= 2; halfYear++) {\n        const { range: date } = getDateByHalfYear(halfYear, selectedYear.value);\n        const allowed = isAllowedDate(date[0]) && isAllowedDate(date[1]);\n        halfYears.push({ value: halfYear, title: fullHalfYears[halfYear], allowed });\n      }\n      return halfYears;\n    };\n\n    const getPickerButtonClasses = condition => {\n      return condition\n        ? `bg-primary-600 dark:bg-primary-500 text-alpha`\n        : 'text-gray-700 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 active:bg-gray-300 dark:active:bg-gray-900';\n    };\n\n    //// Internal handlers - END\n\n    //// External handlers\n    /**\n     * Previous month days click handler\n     * @param {number} day\n     */\n    const setPrevMonthDate = (day = selectedDay.value) => {\n      if (currentMonth.value - 1 === 0) {\n        currentMonth.value = 12;\n        selectedYear.value--;\n      } else {\n        currentMonth.value--;\n      }\n      selectedDay.value = day;\n      getCurrentMonthDays();\n    };\n\n    /**\n     * Next month days click handler\n     * @param {number} day\n     */\n    const setNextMonthDate = (day = selectedDay.value) => {\n      if (currentMonth.value + 1 === 13) {\n        currentMonth.value = 1;\n        selectedYear.value++;\n      } else {\n        currentMonth.value++;\n      }\n      selectedDay.value = day;\n      getCurrentMonthDays();\n    };\n\n    /**\n     * Set current month from month selector\n     * @param {number} month\n     * @param {boolean} emittable\n     */\n    const setMonth = (month, emittable = true) => {\n      if (currentMonth.value !== month + 1 || currentYear.value !== selectedYear.value) {\n        currentMonth.value = month + 1;\n        selectedMonth.value = month + 1;\n        showMonthYearDropdown.value = false;\n        if (props.type === 'date') {\n          getCurrentMonthDays();\n        }\n\n        if (emittable) {\n          if (props.range) {\n            emit('update:modelValue', [\n              getDateWithoutTime(new Date(selectedYear.value, currentMonth.value - 1, 1)),\n              getDateWithoutTime(new Date(selectedYear.value, currentMonth.value, 0)),\n            ]);\n          } else {\n            emit('update:modelValue', new Date(selectedYear.value, currentMonth.value - 1, selectedDay.value));\n          }\n        }\n      }\n    };\n\n    /**\n     * Set current year from year selector\n     * @param {number} year\n     * @param {boolean} emittable\n     */\n    const setYear = (year, emittable = true) => {\n      if (currentYear.value !== year || selectedYear.value !== year) {\n        selectedYear.value = year;\n        showMonthYearDropdown.value = false;\n\n        if (props.type === 'date') {\n          getCurrentMonthDays();\n        }\n\n        if (emittable) {\n          if (props.range) {\n            emit('update:modelValue', [\n              getDateWithoutTime(new Date(selectedYear.value, 0, 1)),\n              getDateWithoutTime(new Date(selectedYear.value, 11 + 1, 0)),\n            ]);\n          } else {\n            emit('update:modelValue', new Date(selectedYear.value, currentMonth.value - 1, selectedDay.value));\n          }\n        }\n      }\n    };\n\n    /**\n     * Set current quarter\n     * @param {number} quarter\n     * @param {boolean} emittable\n     */\n    const setQuarter = (quarter, emittable = true) => {\n      selectedQuarter.value = quarter;\n\n      const { single, range } = getDateByQuarter(quarter, selectedYear.value);\n      if (emittable) {\n        if (props.range) {\n          emit('update:modelValue', [getDateWithoutTime(range[0]), getDateWithoutTime(range[1])]);\n        } else {\n          emit('update:modelValue', getDateWithoutTime(single));\n        }\n      }\n    };\n\n    /**\n     * Set current half year\n     * @param {number} year\n     * @param {boolean} emittable\n     */\n    const setHalfYear = (halfYear, emittable = true) => {\n      selectedHalfYear.value = halfYear;\n\n      const { single, range } = getDateByHalfYear(halfYear, selectedYear.value);\n      if (emittable) {\n        if (props.range) {\n          emit('update:modelValue', [getDateWithoutTime(range[0]), getDateWithoutTime(range[1])]);\n        } else {\n          emit('update:modelValue', getDateWithoutTime(single));\n        }\n      }\n    };\n\n    /**\n     * Select day\n     * @param {Object} day\n     */\n    const setCurrentDateDay = day => {\n      selectedMonth.value = currentMonth.value;\n      selectedDay.value = day.date;\n    };\n\n    const setDateRange = (day, month, year) => {\n      if (dateRange.value[0] && dateRange.value[1]) {\n        dateRange.value = [];\n      }\n      if (!dateRange.value[0] && !dateRange.value[1]) {\n        dateRange.value[0] = new Date(year, month, day.date);\n      } else if (dateRange.value[0] && !dateRange.value[1]) {\n        dateRange.value[1] = new Date(year, month, day.date);\n      }\n    };\n\n    const checkDayBetweenDateRange = day => {\n      const date = new Date(selectedYear.value, currentMonth.value - 1, day.date);\n      return (\n        date > new Date(dateRange.value[0]) &&\n        date.getMonth() === currentMonth.value - 1 &&\n        date < new Date(dateRange.value[1]) &&\n        date.getMonth() === currentMonth.value - 1\n      );\n    };\n\n    const renderPickerTemplateByType = () => {\n      if (props.type === 'date') {\n        return h('div', { class: 'grid grid-cols-7 gap-1' }, [\n          daysBeforeCurrentMonthDays.value,\n          monthDays.value.map(day => {\n            return h(\n              'button',\n              {\n                class: [\n                  'transition duration-150 p-1 w-auto text-center rounded-md',\n                  day.allowed\n                    ? getPickerButtonClasses(\n                        props.range\n                          ? dateRange.value.some(\n                              date =>\n                                date.getDate() === day.date &&\n                                date.getMonth() + 1 === currentMonth.value &&\n                                date.getFullYear() === selectedYear.value\n                            )\n                          : day.date === selectedDay.value &&\n                              selectedMonth.value === currentMonth.value &&\n                              selectedYear.value === currentYear.value\n                      )\n                    : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n                  checkDayBetweenDateRange(day) ? `bg-primary-100 dark:bg-primary-500 dark:bg-opacity-30` : '',\n                ],\n                onClick: () => {\n                  if (day.allowed) {\n                    if (props.range) {\n                      setDateRange(day, currentMonth.value - 1, selectedYear.value);\n                      return;\n                    }\n                    setCurrentDateDay(day);\n                  }\n                },\n              },\n              day.date\n            );\n          }),\n          daysAfterCurrentMonthDays.value,\n        ]);\n      }\n      if (props.type === 'month') {\n        return h('div', { class: 'grid grid-cols-3 gap-1' }, [\n          fullMonths.map((month, index) => {\n            const allowed = isAllowedDate(new Date(selectedYear.value, index, 1));\n\n            return h(\n              'button',\n              {\n                class: [\n                  'transition duration-150 p-1 w-auto text-center rounded-md',\n                  allowed\n                    ? getPickerButtonClasses(\n                        index + 1 === currentMonth.value && selectedYear.value === currentYear.value\n                      )\n                    : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n                ],\n                onClick: () => (allowed ? setMonth(index) : null),\n              },\n              capitalize(month)\n            );\n          }),\n        ]);\n      }\n      if (props.type === 'year') {\n        const years = getCurrentYearsList();\n        return h('div', { class: 'grid grid-cols-3 gap-1' }, [\n          years.map(year => {\n            return h(\n              'button',\n              {\n                class: [\n                  'transition duration-150 p-1 w-auto text-center rounded-md',\n                  year.allowed\n                    ? getPickerButtonClasses(year.value === currentYear.value)\n                    : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n                ],\n                onClick: () => (year.allowed ? setYear(year.value) : null),\n              },\n              year.value\n            );\n          }),\n        ]);\n      }\n      if (props.type === 'quarter') {\n        const quarters = getQuartersList();\n        return h('div', { class: 'grid grid-cols-2 gap-1' }, [\n          quarters.map(quarter => {\n            return h(\n              'button',\n              {\n                class: [\n                  'transition duration-150 p-1 w-auto text-center rounded-full',\n                  quarter.allowed\n                    ? getPickerButtonClasses(\n                        quarter.value === selectedQuarter.value && currentYear.value === selectedYear.value\n                      )\n                    : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n                ],\n                onClick: () => (quarter.allowed ? setQuarter(quarter.value) : null),\n              },\n              capitalize(quarter.title)\n            );\n          }),\n        ]);\n      }\n      if (props.type === 'half-year') {\n        const halfYears = getHalfYearList();\n        return h('div', { class: 'grid grid-cols-2 gap-1' }, [\n          halfYears.map(halfYear => {\n            return h(\n              'button',\n              {\n                class: [\n                  'transition duration-150 p-1 w-auto text-center rounded-full',\n                  halfYear.allowed\n                    ? getPickerButtonClasses(\n                        halfYear.value === selectedHalfYear.value && currentYear.value === selectedYear.value\n                      )\n                    : 'cursor-not-allowed text-gray-200 dark:text-gray-500',\n                ],\n                onClick: () => (halfYear.allowed ? setHalfYear(halfYear.value) : null),\n              },\n              capitalize(halfYear.title)\n            );\n          }),\n        ]);\n      }\n    };\n    //// External handles - END\n\n    if (props.type === 'date') {\n      getCurrentMonthDays();\n    }\n\n    return {\n      monthDays,\n      selectedDay,\n      selectedYear,\n      currentYear,\n      currentMonth,\n      headerTitle,\n      showMonthYearDropdown,\n      yearsToSelect,\n      dateRange,\n      setMonth,\n      setYear,\n      setPrevMonthDate,\n      setNextMonthDate,\n      renderPickerTemplateByType,\n      daysBeforeCurrentMonthDays,\n      daysAfterCurrentMonthDays,\n      setCurrentDateDay,\n    };\n  },\n  render() {\n    return h('div', { class: 'block w-full h-full bg-white dark:bg-gray-700' }, [\n      h(\n        'div',\n        {\n          class:\n            'flex justify-between items-center h-12 border-b-2 border-gray-200 dark:border-gray-500 dark:border-opacity-30 mb-1',\n        },\n        [\n          h(\n            'button',\n            {\n              class:\n                'p-2 transition duration-150 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800',\n              onClick: () => {\n                if (this.type === 'year') {\n                  this.setYear(this.selectedYear - 3, false);\n                }\n                if (this.type === 'month' || this.type === 'quarter' || this.type === 'half-year') {\n                  this.setYear(this.selectedYear - 1, false);\n                }\n                if (this.type === 'date') {\n                  this.setPrevMonthDate();\n                }\n              },\n            },\n            [h(ChevronLeftIcon, { class: 'h-5 w-5 text-gray-700 dark:text-gray-300' })]\n          ),\n          this.type === 'date'\n            ? h('div', { class: 'relative' }, [\n                h(\n                  'button',\n                  {\n                    class:\n                      'transition duration-150 font-semibold hover:bg-gray-100 p-1 px-3 rounded-md dark:text-white dark:hover:bg-gray-800',\n                    onClick: () => (this.showMonthYearDropdown = !this.showMonthYearDropdown),\n                  },\n                  [\n                    h('span', { class: 'flex items-center' }, [\n                      this.headerTitle,\n                      h(ChevronDownIcon, {\n                        class: [\n                          'transform ease-in-out duration-150 w-5 h-5 ml-1',\n                          {\n                            'rotate-180': this.showMonthYearDropdown,\n                          },\n                        ],\n                      }),\n                    ]),\n                  ]\n                ),\n                h(\n                  Transition,\n                  {\n                    enterActiveClass: 'transition ease-out duration-100',\n                    enterFromClass: 'transform opacity-0 scale-95',\n                    enterToClass: 'transform opacity-100 scale-100',\n                    leaveActiveClass: 'transition ease-in duration-75',\n                    leaveFromClass: 'transform opacity-100 scale-100',\n                    leaveToClass: 'transform opacity-0 scale-95',\n                  },\n                  {\n                    default: () =>\n                      this.showMonthYearDropdown\n                        ? h(\n                            'div',\n                            {\n                              class:\n                                'transition duration-150 w-full absolute flex justify-center mt-1 py-2 border-2 border-gray-200 dark:border-gray-500 rounded-md bg-white dark:bg-gray-700 shadow-lg mx-auto',\n                            },\n                            [\n                              h('div', { class: 'grid grid-cols-2 items-center justify-center' }, [\n                                h(\n                                  'div',\n                                  {\n                                    class:\n                                      'max-h-48 overflow-x-hidden overflow-y-auto border-r-2 border-gray-200 dark:border-gray-500 px-2',\n                                  },\n                                  [\n                                    shortMonths.map((month, index) =>\n                                      h(\n                                        'button',\n                                        {\n                                          class: [\n                                            'p-0.5',\n                                            index + 1 === this.currentMonth\n                                              ? `text-primary-600 dark:text-primary-400 font-bold`\n                                              : 'text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100',\n                                          ],\n                                          onClick: () => this.setMonth(index, false),\n                                        },\n                                        capitalize(month)\n                                      )\n                                    ),\n                                  ]\n                                ),\n                                h('div', { class: 'max-h-48 overflow-x-hidden overflow-y-auto px-2' }, [\n                                  this.yearsToSelect.map(year =>\n                                    h(\n                                      'button',\n                                      {\n                                        class: [\n                                          'p-0.5',\n                                          year === this.selectedYear\n                                            ? `text-primary-600 dark:text-primary-400 font-bold`\n                                            : 'text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100',\n                                        ],\n                                        onClick: () => this.setYear(year, false),\n                                      },\n                                      year\n                                    )\n                                  ),\n                                ]),\n                              ]),\n                            ]\n                          )\n                        : null,\n                  }\n                ),\n              ])\n            : h(\n                'span',\n                { class: 'font-semibold p-1 px-3 rounded-md dark:text-white' },\n                this.type === 'year' ? this.currentYear : this.selectedYear\n              ),\n\n          h(\n            'button',\n            {\n              class:\n                'p-2 transition duration-150 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800',\n              onClick: () => {\n                if (this.type === 'year') {\n                  this.setYear(this.selectedYear + 3, false);\n                }\n                if (this.type === 'month' || this.type === 'quarter' || this.type === 'half-year') {\n                  this.setYear(this.selectedYear + 1, false);\n                }\n                if (this.type === 'date') {\n                  this.setNextMonthDate();\n                }\n                // this.type !== 'date' ? this.setNextYear() : this.setNextMonthDate();\n              },\n            },\n            [h(ChevronRightIcon, { class: 'h-5 w-5 text-gray-700 dark:text-gray-300' })]\n          ),\n        ]\n      ),\n\n      this.type === 'date'\n        ? h('div', { class: 'grid grid-cols-7 gap-1' }, [\n            shortWeeks.map(weekDay =>\n              h('span', { class: 'text-gray-400 dark:text-gray-300 p-2 w-auto text-center' }, weekDay)\n            ),\n          ])\n        : null,\n      this.renderPickerTemplateByType(),\n    ]);\n  },\n});\n"]}]}