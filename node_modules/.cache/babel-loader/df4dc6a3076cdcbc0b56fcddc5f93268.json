{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/pages/colleagues/ColleagueDetail.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/pages/colleagues/ColleagueDetail.vue","mtime":1647851155531},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgeyBkZWZpbmVBc3luY0NvbXBvbmVudCwgY29tcHV0ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBDaGV2cm9uTGVmdEljb24sIFVzZXJJY29uLCBVc2VyR3JvdXBJY29uIH0gZnJvbSAnQGhlcm9pY29ucy92dWUvc29saWQnOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwp2YXIgX19kZWZhdWx0X18gPSB7CiAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgaWYgKCF0by5xdWVyeS50YWIpIHJldHVybiBuZXh0KHsKICAgICAgcGF0aDogdG8ucGF0aCwKICAgICAgcXVlcnk6IHsKICAgICAgICB0YWI6ICdwcm9maWxlJwogICAgICB9CiAgICB9KTsKICAgIG5leHQoKTsKICB9Cn07CgpmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgdmFyIGV4cG9zZSA9IF9yZWYuZXhwb3NlOwogIHZhciBDb2xsZWFndWVzSW5jb21lRGF0YSA9IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBpbXBvcnQoJ34vY29tcG9uZW50cy9jb2xsZWFndWVzL0NvbGxlYWd1ZXNJbmNvbWVEYXRhJyk7CiAgfSk7CiAgdmFyIEF0VGFicyA9IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBpbXBvcnQoJ34vcGx1Z2lucy9hbGlmdGVjaC11aS9jb21wb25lbnRzL0F0VGFicy9BdFRhYnMnKTsKICB9KTsKICB2YXIgQXRCYWRnZSA9IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBpbXBvcnQoJ34vcGx1Z2lucy9hbGlmdGVjaC11aS9jb21wb25lbnRzL0F0QmFkZ2UvQXRCYWRnZScpOwogIH0pOwogIHZhciBDb2xsZWFndWVzUHJvZmlsZURhdGEgPSBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaW1wb3J0KCd+L2NvbXBvbmVudHMvY29sbGVhZ3Vlcy9Db2xsZWFndWVzUHJvZmlsZURhdGEnKTsKICB9KTsKICB2YXIgQXRCdXR0b24gPSBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaW1wb3J0KCd+L3BsdWdpbnMvYWxpZnRlY2gtdWkvY29tcG9uZW50cy9BdEJ1dHRvbi9BdEJ1dHRvbicpOwogIH0pOwogIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICB2YXIgc3RhdHVzZXMgPSBzdG9yZS5nZXR0ZXJzWydjb3JlL3N0YXR1cyddOwogIHZhciB0YWJDb21wb25lbnRzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5jb21lOiB7CiAgICAgICAgY29tcG9uZW50OiBDb2xsZWFndWVzSW5jb21lRGF0YSwKICAgICAgICBwcm9wczogewogICAgICAgICAgdXNlcklkOiByb3V0ZS5wYXJhbXMuaWQKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByb2ZpbGU6IHsKICAgICAgICBjb21wb25lbnQ6IENvbGxlYWd1ZXNQcm9maWxlRGF0YSwKICAgICAgICBwcm9wczogewogICAgICAgICAgdXNlcklkOiByb3V0ZS5wYXJhbXMuaWQKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSk7CiAgdmFyIGdldEN1cnJlbnRDb2xsZWFndWVEYXRhID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgdmFyIF9zdG9yZSRnZXR0ZXJzJGNvcmVHLCBfc3RvcmUkZ2V0dGVycyRjb3JlRyQ7CgogICAgaWYgKChfc3RvcmUkZ2V0dGVycyRjb3JlRyA9IHN0b3JlLmdldHRlcnNbJ2NvcmUvZ2V0RW1wbG95ZWVEYXRhJ10uZGF0YSkgIT09IG51bGwgJiYgX3N0b3JlJGdldHRlcnMkY29yZUcgIT09IHZvaWQgMCAmJiAoX3N0b3JlJGdldHRlcnMkY29yZUckID0gX3N0b3JlJGdldHRlcnMkY29yZUcuZGF0YSkgIT09IG51bGwgJiYgX3N0b3JlJGdldHRlcnMkY29yZUckICE9PSB2b2lkIDAgJiYgX3N0b3JlJGdldHRlcnMkY29yZUckLmxlbmd0aCkgewogICAgICB2YXIgX3N0b3JlJGdldHRlcnMkY29yZUcyLCBfc3RvcmUkZ2V0dGVycyRjb3JlRzM7CgogICAgICByZXR1cm4gKF9zdG9yZSRnZXR0ZXJzJGNvcmVHMiA9IHN0b3JlLmdldHRlcnNbJ2NvcmUvZ2V0RW1wbG95ZWVEYXRhJ10uZGF0YSkgPT09IG51bGwgfHwgX3N0b3JlJGdldHRlcnMkY29yZUcyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3N0b3JlJGdldHRlcnMkY29yZUczID0gX3N0b3JlJGdldHRlcnMkY29yZUcyLmRhdGEpID09PSBudWxsIHx8IF9zdG9yZSRnZXR0ZXJzJGNvcmVHMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JlJGdldHRlcnMkY29yZUczLmZpbHRlcihmdW5jdGlvbiAocykgewogICAgICAgIHZhciBfcm91dGUkcGFyYW1zOwoKICAgICAgICByZXR1cm4gKHMgPT09IG51bGwgfHwgcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcy5pZCkgPT09IE51bWJlcihyb3V0ZSA9PT0gbnVsbCB8fCByb3V0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yb3V0ZSRwYXJhbXMgPSByb3V0ZS5wYXJhbXMpID09PSBudWxsIHx8IF9yb3V0ZSRwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb3V0ZSRwYXJhbXMuaWQpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBfc3RvcmUkZ2V0dGVycyRjb3JlRzQ7CgogICAgICByZXR1cm4gKF9zdG9yZSRnZXR0ZXJzJGNvcmVHNCA9IHN0b3JlLmdldHRlcnNbJ2NvcmUvZ2V0RW1wbG95ZWVEYXRhJ10uZGF0YSkgPT09IG51bGwgfHwgX3N0b3JlJGdldHRlcnMkY29yZUc0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RvcmUkZ2V0dGVycyRjb3JlRzQuZGF0YTsKICAgIH0KICB9KTsKICB2YXIgX19yZXR1cm5lZF9fID0gewogICAgQ29sbGVhZ3Vlc0luY29tZURhdGE6IENvbGxlYWd1ZXNJbmNvbWVEYXRhLAogICAgQXRUYWJzOiBBdFRhYnMsCiAgICBBdEJhZGdlOiBBdEJhZGdlLAogICAgQ29sbGVhZ3Vlc1Byb2ZpbGVEYXRhOiBDb2xsZWFndWVzUHJvZmlsZURhdGEsCiAgICBBdEJ1dHRvbjogQXRCdXR0b24sCiAgICByb3V0ZTogcm91dGUsCiAgICBzdG9yZTogc3RvcmUsCiAgICBzdGF0dXNlczogc3RhdHVzZXMsCiAgICB0YWJDb21wb25lbnRzOiB0YWJDb21wb25lbnRzLAogICAgZ2V0Q3VycmVudENvbGxlYWd1ZURhdGE6IGdldEN1cnJlbnRDb2xsZWFndWVEYXRhLAogICAgZGVmaW5lQXN5bmNDb21wb25lbnQ6IGRlZmluZUFzeW5jQ29tcG9uZW50LAogICAgY29tcHV0ZWQ6IGNvbXB1dGVkLAogICAgQ2hldnJvbkxlZnRJY29uOiBDaGV2cm9uTGVmdEljb24sCiAgICBVc2VySWNvbjogVXNlckljb24sCiAgICBVc2VyR3JvdXBJY29uOiBVc2VyR3JvdXBJY29uLAogICAgdXNlUm91dGU6IHVzZVJvdXRlLAogICAgdXNlU3RvcmU6IHVzZVN0b3JlCiAgfTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICB2YWx1ZTogdHJ1ZQogIH0pOwogIHJldHVybiBfX3JldHVybmVkX187Cn0KCmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9PYmplY3QuYXNzaWduKF9fZGVmYXVsdF9fLCB7CiAgc2V0dXA6IHNldHVwCn0pOw=="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-teamadmin-vue/src/pages/colleagues/ColleagueDetail.vue"],"names":[],"mappings":";;;;;AAUE,SAAS,oBAAT,EAA+B,QAA/B,QAA+C,KAA/C;AACA,SAAS,eAAT,EAA0B,QAA1B,EAAoC,aAApC,QAAyD,sBAAzD;AACA,SAAS,QAAT,QAAyB,YAAzB;AACA,SAAS,QAAT,QAAyB,MAAzB;AAZA,IAAA,WAAA,GAAe;AACb,EAAA,gBADa,4BACI,EADJ,EACQ,IADR,EACc,IADd,EACoB;AAC/B,QAAI,CAAC,EAAE,CAAC,KAAH,CAAS,GAAd,EAAmB,OAAO,IAAI,CAAC;AAAE,MAAA,IAAI,EAAE,EAAE,CAAC,IAAX;AAAiB,MAAA,KAAK,EAAE;AAAE,QAAA,GAAG,EAAE;AAAP;AAAxB,KAAD,CAAX;AACnB,IAAA,IAAI;AACL;AAJY,CAAf;;;;AAaA,MAAM,oBAAoB,GAAG,oBAAoB,CAAC;AAAA,WAAM,OAAO,8CAAP,CAAN;AAAA,GAAD,CAAjD;AACA,MAAM,MAAM,GAAG,oBAAoB,CAAC;AAAA,WAAM,OAAO,gDAAP,CAAN;AAAA,GAAD,CAAnC;AACA,MAAM,OAAO,GAAG,oBAAoB,CAAC;AAAA,WAAM,OAAO,kDAAP,CAAN;AAAA,GAAD,CAApC;AACA,MAAM,qBAAqB,GAAG,oBAAoB,CAAC;AAAA,WAAM,OAAO,+CAAP,CAAN;AAAA,GAAD,CAAlD;AACA,MAAM,QAAQ,GAAG,oBAAoB,CAAC;AAAA,WAAM,OAAO,oDAAP,CAAN;AAAA,GAAD,CAArC;AACA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AACA,MAAM,KAAK,GAAG,QAAQ,EAAtB;AACA,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAN,CAAc,aAAd,CAAjB;AACA,MAAM,aAAa,GAAG,QAAQ,CAAC;AAAA,WAAO;AACpC,MAAA,MAAM,EAAE;AACN,QAAA,SAAS,EAAE,oBADL;AAEN,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa;AADhB;AAFD,OAD4B;AAOpC,MAAA,OAAO,EAAE;AACP,QAAA,SAAS,EAAE,qBADJ;AAEP,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa;AADhB;AAFA;AAP2B,KAAP;AAAA,GAAD,CAA9B;AAeA,MAAM,uBAAuB,GAAG,QAAQ,CAAC,YAAM;AAAA;;AAC7C,gCAAI,KAAK,CAAC,OAAN,CAAc,sBAAd,EAAsC,IAA1C,0EAAI,qBAA4C,IAAhD,kDAAI,sBAAkD,MAAtD,EAA8D;AAAA;;AAC5D,sCAAO,KAAK,CAAC,OAAN,CAAc,sBAAd,EAAsC,IAA7C,mFAAO,sBAA4C,IAAnD,0DAAO,sBAAkD,MAAlD,CAAyD,UAAA,CAAC;AAAA;;AAAA,eAAI,CAAA,CAAC,SAAD,IAAA,CAAC,WAAD,YAAA,CAAC,CAAE,EAAH,MAAU,MAAM,CAAC,KAAD,aAAC,KAAD,wCAAC,KAAK,CAAE,MAAR,kDAAC,cAAe,EAAhB,CAApB;AAAA,OAA1D,CAAP;AACD,KAFD,MAEO;AAAA;;AACL,sCAAO,KAAK,CAAC,OAAN,CAAc,sBAAd,EAAsC,IAA7C,0DAAO,sBAA4C,IAAnD;AACD;AACF,GANuC,CAAxC","sourcesContent":["<script>\n  export default {\n    beforeRouteEnter(to, from, next) {\n      if (!to.query.tab) return next({ path: to.path, query: { tab: 'profile' } });\n      next();\n    },\n  };\n</script>\n\n<script setup>\n  import { defineAsyncComponent, computed } from 'vue';\n  import { ChevronLeftIcon, UserIcon, UserGroupIcon } from '@heroicons/vue/solid';\n  import { useRoute } from 'vue-router';\n  import { useStore } from 'vuex';\n  const ColleaguesIncomeData = defineAsyncComponent(() => import('~/components/colleagues/ColleaguesIncomeData'));\n  const AtTabs = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtTabs/AtTabs'));\n  const AtBadge = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtBadge/AtBadge'));\n  const ColleaguesProfileData = defineAsyncComponent(() => import('~/components/colleagues/ColleaguesProfileData'));\n  const AtButton = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtButton/AtButton'));\n  const route = useRoute();\n  const store = useStore();\n  const statuses = store.getters['core/status'];\n  const tabComponents = computed(() => ({\n    income: {\n      component: ColleaguesIncomeData,\n      props: {\n        userId: route.params.id,\n      },\n    },\n    profile: {\n      component: ColleaguesProfileData,\n      props: {\n        userId: route.params.id,\n      },\n    },\n  }));\n\n  const getCurrentColleagueData = computed(() => {\n    if (store.getters['core/getEmployeeData'].data?.data?.length) {\n      return store.getters['core/getEmployeeData'].data?.data?.filter(s => s?.id === Number(route?.params?.id));\n    } else {\n      return store.getters['core/getEmployeeData'].data?.data;\n    }\n  });\n</script>\n\n<template>\n  <div>\n    <div class=\"-m-6 mb-4\" v-if=\"getCurrentColleagueData?.length\">\n      <div class=\"w-full bg-alpha pb-5\" v-for=\"currentColleague in getCurrentColleagueData\" :key=\"currentColleague.id\">\n        <div class=\"flex items-center p-3 border-b\">\n          <chevron-left-icon\n            class=\"w-10 h-18 text-gray-300 mr-2 ml-2 cursor-pointer\"\n            @click=\"$router.go(-1)\"\n          ></chevron-left-icon>\n          <h1 @click=\"$router.go(-1)\" class=\"text-xl font-bold cursor-pointer\">{{ currentColleague?.name }}</h1>\n          <div class=\"flex-grow flex items-center justify-end\">\n            <AtButton class=\"mr-6\" size=\"sm\" :to=\"{ name: 'productivity.index' }\">Перейти к продуктивности</AtButton>\n          </div>\n        </div>\n        <div class=\"ml-9 mt-4 flex items-center\">\n          <at-badge class=\"mr-4\" :color=\"statuses[currentColleague?.status - 1]?.color\" rounded>\n            {{ statuses[currentColleague?.status - 1]?.name }}\n          </at-badge>\n          <user-icon class=\"w-6 h-6 text-gray-400 items-center\"></user-icon>\n          <p class=\"ml-2 mr-6\">{{ currentColleague?.current_position?.name || '-' }}</p>\n          <user-group-icon class=\"w-6 h-6 text-gray-400 items-center\"></user-group-icon>\n          <p class=\"ml-2\">{{ currentColleague?.department_name || '-' }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"mt-6\">\n      <AtTabs\n        :items=\"[\n          { title: 'Профиль', value: 'profile' },\n          { title: 'Доход', value: 'income', exact: true },\n        ]\"\n        :model-value=\"$route.query.tab\"\n        @update:model-value=\"$router.push({ path: $route.path, query: { tab: $event } })\"\n      />\n      <keep-alive>\n        <component\n          :is=\"tabComponents[route.query.tab]?.component || tabComponents.profile.component\"\n          v-bind=\"tabComponents[route.query.tab]?.props || tabComponents.profile.props\"\n        ></component>\n      </keep-alive>\n    </div>\n  </div>\n</template>\n"]}]}